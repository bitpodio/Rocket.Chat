function module(e,n,t){var o,a,r,i,l,u,c,s,f,d,m,p,x,k,b,g,h,E,v,_,C,w,y,D;function I(e){var n=e.integrationId,t=i(e,["integrationId"]),o=x(),a=u((function(){return{integrationId:n}}),[n]),c=y("integrations.get",a),s=c.value,m=c.phase,p=c.error,k=c.reload,b=function(){k()};return m===D.LOADING?l.createElement(f,r({w:"full",pb:"x24"},t),l.createElement(d,{mbe:"x4"}),l.createElement(d,{mbe:"x8"}),l.createElement(d,{mbe:"x4"}),l.createElement(d,{mbe:"x8"}),l.createElement(d,{mbe:"x4"}),l.createElement(d,{mbe:"x8"})):p?l.createElement(f,r({mbs:"x16"},t),o("Oops_page_not_found")):l.createElement(S,r({data:s.integration,onChange:b},t))}t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},3),t.export({default:function(){return I}}),t.link("react",{default:function(e){l=e},useMemo:function(e){u=e},useCallback:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){s=e},Box:function(e){f=e},Skeleton:function(e){d=e},Margins:function(e){m=e},Button:function(e){p=e}},1),t.link("../../../../contexts/TranslationContext",{useTranslation:function(e){x=e}},2),t.link("../../../../contexts/ServerContext",{useMethod:function(e){k=e}},3),t.link("../../../../hooks/useEndpointAction",{useEndpointAction:function(e){b=e}},4),t.link("../../../../contexts/RouterContext",{useRoute:function(e){g=e}},5),t.link("../../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){h=e}},6),t.link("../../../../contexts/ModalContext",{useSetModal:function(e){E=e}},7),t.link("../../../../hooks/useForm",{useForm:function(e){v=e}},8),t.link("../IncomingWebhookForm",{default:function(e){_=e}},9),t.link("../../../../components/DeleteSuccessModal",{default:function(e){C=e}},10),t.link("../../../../components/DeleteWarningModal",{default:function(e){w=e}},11),t.link("../../../../hooks/useEndpointData",{useEndpointData:function(e){y=e}},12),t.link("../../../../hooks/useAsyncState",{AsyncStatePhase:function(e){D=e}},13);var M=function(e){var n,t,o,a,r,i,l;return{enabled:e.enabled,channel:null!==(n=e.channel.join(", "))&&void 0!==n?n:"",username:null!==(t=e.username)&&void 0!==t?t:"",name:null!==(o=e.name)&&void 0!==o?o:"",alias:null!==(a=e.alias)&&void 0!==a?a:"",avatarUrl:null!==(r=e.avatarUrl)&&void 0!==r?r:"",emoji:null!==(i=e.emoji)&&void 0!==i?i:"",scriptEnabled:e.scriptEnabled,script:e.script}};function S(e){var n=e.data,t=e.onChange,d=i(e,["data","onChange"]),y=x(),D=h(),I=v(M(n)),S=I.values,j=I.handlers,A=I.reset,P=E(),T=u((function(){return{type:"webhook-incoming",integrationId:n._id}}),[n._id]),F=b("POST","integrations.remove",T),R=k("updateIncomingIntegration"),W=g("admin-integrations"),G=c((function(){var e=function(){return P()},n=function(){function n(){var n;return a.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.awrap(F());case 2:(n=t.sent).success&&P(l.createElement(C,{children:y("Your_entry_has_been_deleted"),onClose:function(){e(),W.push({})}}));case 4:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return n}();P(l.createElement(w,{children:y("Integration_Delete_Warning"),onDelete:n,onCancel:e}))}),[F,W,P,y]),O=c(function(){function e(){return a.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.awrap(R(n._id,o({},S)));case 3:D({type:"success",message:y("Integration_updated")}),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),D({type:"error",message:e.t0});case 10:case"end":return e.stop()}}return e}(),null,null,[[0,7]],Promise)}return e}(),[n._id,D,S,t,R,y]),B=u((function(){return l.createElement(s,null,l.createElement(s.Row,{display:"flex",flexDirection:"column"},l.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},l.createElement(m,{inlineEnd:"x4"},l.createElement(p,{flexGrow:1,type:"reset",onClick:A},y("Reset")),l.createElement(p,{mie:"none",flexGrow:1,onClick:O},y("Save")))),l.createElement(p,{mbs:"x4",primary:!0,danger:!0,w:"full",onClick:G},y("Delete"))))}),[G,O,A,y]);return l.createElement(_,r({formHandlers:j,formValues:S,extraData:{_id:n._id,token:n.token},append:B},d))}}


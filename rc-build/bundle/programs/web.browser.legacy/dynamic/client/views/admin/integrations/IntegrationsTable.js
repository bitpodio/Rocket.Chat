function module(e,t,n){var r,a,i,o,l,c,u,s,f,m,d,k,p,y,h,C,b,g,v,x,E;n.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},1),n.link("@babel/runtime/helpers/extends",{default:function(e){i=e}},2),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},3),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},4),n.export({IntegrationsTable:function(){return B}}),n.link("@rocket.chat/fuselage",{Box:function(e){c=e},Table:function(e){u=e},TextInput:function(e){s=e},Icon:function(e){f=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){m=e},useResizeObserver:function(e){d=e}},1),n.link("react",{default:function(e){k=e},useMemo:function(e){p=e},useCallback:function(e){y=e},useState:function(e){h=e},useEffect:function(e){C=e}},2),n.link("../../../components/GenericTable",{default:function(e){b=e}},3),n.link("../../../contexts/TranslationContext",{useTranslation:function(e){g=e}},4),n.link("../../../contexts/RouterContext",{useRoute:function(e){v=e}},5),n.link("../../../hooks/useFormatDateAndTime",{useFormatDateAndTime:function(e){x=e}},6),n.link("../../../hooks/useEndpointData",{useEndpointData:function(e){E=e}},7);var _={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},D=k.memo((function(e){var t=e.setFilter,n=l(e,["setFilter"]),r=g(),a=h(""),u=o(a,2),m=u[0],d=u[1],p=y((function(e){return d(e.currentTarget.value)}),[]);return C((function(){t({text:m})}),[t,m]),k.createElement(c,i({mb:"x16",is:"form",onSubmit:y((function(e){return e.preventDefault()}),[]),display:"flex",flexDirection:"column"},n),k.createElement(s,{placeholder:r("Search_Integrations"),addon:k.createElement(f,{name:"magnifier",size:"x20"}),onChange:p,value:m}))})),S=function(e,t){var n=e.text,r=e.type,i=e.itemsPerPage,l=e.current,c=o(t,2),u=c[0],s=c[1];return p((function(){var e;return a(a({query:JSON.stringify({name:{$regex:n||"",$options:"i"},type:r}),sort:JSON.stringify((e={},e[u]="asc"===s?1:-1,e))},i&&{count:i}),l&&{offset:l})}),[u,l,s,i,n,r])},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=d({debounceDelay:t}),a=n.ref,i=n.borderBoxSize,o=i?i.inlineSize:0;return e=p((function(){return e.map((function(e){return!o||o>e}))}),[o,e]),[a].concat(r(e))};function w(e){var t=e.name,n=e._id,r=e.type,a=e.username,i=e._createdAt,o=e._createdBy.username,l=e.channel,c=void 0===l?[]:l,s=e.onClick,f=e.isBig,m=x(),d=p((function(){return s(n,r)}),[s,n,r]);return k.createElement(u.Row,{key:n,onKeyDown:d,onClick:d,tabIndex:0,role:"link",action:!0},k.createElement(u.Cell,{style:_,color:"default",fontScale:"p2"},t),k.createElement(u.Cell,{style:_},c.join(", ")),k.createElement(u.Cell,{style:_},o),f&&k.createElement(u.Cell,{style:_},m(i)),k.createElement(u.Cell,{style:_},a))}function B(e){var t=e.type,n=g(),r=T([700],200),c=o(r,2),u=c[0],s=c[1],f=h({text:"",current:0,itemsPerPage:25}),d=o(f,2),C=d[0],x=d[1],_=h(["name","asc"]),B=o(_,2),A=B[0],P=B[1],F=m(C.text,500),H=m(A,500),I=S(a(a({},C),{},{text:F,type:t}),H),R,z=E("integrations.list",I).value,O=v("admin-integrations"),j=y((function(e,t){return function(){return O.push({context:"edit",type:"webhook-incoming"===t?"incoming":"outgoing",id:e})}}),[O]),N=y((function(e){var t=o(A,2),n=t[0],r=t[1];P(n!==e?[e,"asc"]:[e,"asc"===r?"desc":"asc"])}),[A]),J=p((function(){return[k.createElement(b.HeaderCell,{key:"name",direction:A[1],active:"name"===A[0],onClick:N,sort:"name",w:s?"x280":"x240"},n("Name")),k.createElement(b.HeaderCell,{key:"channel",direction:A[1],active:"channel"===A[0],onClick:N,sort:"channel"},n("Post_to")),k.createElement(b.HeaderCell,{key:"_createdBy",direction:A[1],active:"_createdBy"===A[0],onClick:N,sort:"_createdBy"},n("Created_by")),s&&k.createElement(b.HeaderCell,{key:"_createdAt",direction:A[1],active:"_createdAt"===A[0],onClick:N,sort:"_createdAt"},n("Created_at")),k.createElement(b.HeaderCell,{key:"username",direction:A[1],active:"username"===A[0],onClick:N,sort:"username"},n("Post_as"))].filter(Boolean)}),[A,N,s,n]),$=y((function(e){return k.createElement(w,i({},e,{isBig:s,onClick:j}))}),[s,j]);return k.createElement(b,{ref:u,header:J,renderRow:$,results:z&&z.integrations,total:z&&z.total,setParams:x,params:C,renderFilter:function(e){var t=e.onChange,n=l(e,["onChange"]);return(k.createElement(D,i({setFilter:t},n)))}})}n.exportDefault(B)}


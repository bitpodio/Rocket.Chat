function module(e,n,t){var r,s,i,o,a,u,l;t.export({default:function(){return f}}),t.link("react",{default:function(e){r=e}},0),t.link("../../../contexts/AuthorizationContext",{usePermission:function(e){s=e}},1),t.link("../../../contexts/ServerContext",{useMethod:function(e){i=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){o=e}},3),t.link("./Mailer",{Mailer:function(e){a=e}},4),t.link("../../../components/NotAuthorizedPage",{default:function(e){u=e}},5),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){l=e}},6);var c=function(){var e=i("Mailer.sendMail"),n=o(),t=l();return function(r){var s=r.fromEmail,i=r.subject,o=r.emailBody,a=r.dryRun,u=r.query;u.error?t({type:"error",message:n("Query_is_not_valid_JSON")}):s.error||s.length<1?t({type:"error",message:n("error-invalid-from-address")}):-1!==o.indexOf("[unsubscribe]")?(e(s.value,i,o,a,u.value),t({type:"success",message:n("The_emails_are_being_sent")})):t({type:"error",message:n("error-missing-unsubscribe-link")})}};function f(){var e=s("access-mailer"),n=c();return e?r.createElement(a,{sendMail:n}):r.createElement(u,null)}}


function module(n,t,e){var r,u,a,c,s,i,p,o,l;e.link("@babel/runtime/helpers/objectSpread2",{default:function(n){r=n}},0),e.link("@babel/runtime/helpers/slicedToArray",{default:function(n){u=n}},1),e.link("@babel/runtime/regenerator",{default:function(n){a=n}},2),e.export({useAppInfo:function(){return v}}),e.link("react",{useState:function(n){c=n},useEffect:function(n){s=n},useContext:function(n){i=n}},0),e.link("../../../../../app/apps/client/orchestrator",{Apps:function(n){p=n}},1),e.link("../AppsContext",{AppsContext:function(n){o=n}},2),e.link("../helpers",{handleAPIError:function(n){l=n}},3);var f=function(){function n(n,t){var e,r;return a.async(function(){function u(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,a.awrap(p.getLatestAppFromMarketplace(n,t));case 3:if(e=u.sent,r=e.bundledIn){u.next=7;break}return u.abrupt("return",[]);case 7:return u.next=9,a.awrap(Promise.all(r.map(function(){function n(n){var t;return a.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.awrap(p.getAppsOnBundle(n.bundleId));case 2:return t=e.sent,n.apps=t.slice(0,4),e.abrupt("return",n);case 5:case"end":return e.stop()}}return e}(),null,null,null,Promise)}return n}())));case 9:return u.abrupt("return",u.sent);case 12:return u.prev=12,u.t0=u.catch(0),l(u.t0),u.abrupt("return",[]);case 16:case"end":return u.stop()}}return u}(),null,null,[[0,12]],Promise)}return n}(),d=function(){function n(n,t){return a.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.abrupt("return",p.getAppSettings(n));case 6:return e.prev=6,e.t0=e.catch(2),l(e.t0),e.abrupt("return",{});case 10:case"end":return e.stop()}}return e}(),null,null,[[2,6]],Promise)}return n}(),b=function(){function n(n,t){return a.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.abrupt("return",p.getAppApis(n));case 6:return e.prev=6,e.t0=e.catch(2),l(e.t0),e.abrupt("return",{});case 10:case"end":return e.stop()}}return e}(),null,null,[[2,6]],Promise)}return n}(),v=function(n){var t,e=i(o).apps,l=c({}),v=u(l,2),x=v[0],k=v[1];return s((function(){var t;(function(){function t(){var t,c,s,i,o,l,v;return a.async(function(){function x(x){for(;;)switch(x.prev=x.next){case 0:if(e.length&&n){x.next=2;break}return x.abrupt("return");case 2:if(null===(t=e.find((function(t){return t.id===n})))||void 0===t){x.next=6;break}x.t0=t,x.next=16;break;case 6:return x.t1=r,x.t2=r,x.t3={},x.next=11,a.awrap(p.getApp(n));case 11:x.t4=x.sent,x.t5=(0,x.t2)(x.t3,x.t4),x.t6={},x.t7={installed:!0,marketplace:!1},x.t0=(0,x.t1)(x.t5,x.t6,x.t7);case 16:return c=x.t0,x.next=19,a.awrap(Promise.all([!1===c.marketplace?[]:f(c.id,c.version),d(c.id,c.installed),b(c.id,c.installed)]));case 19:s=x.sent,i=u(s,3),o=i[0],l=i[1],v=i[2],k(r(r({},c),{},{bundledIn:o,settings:l,apis:v}));case 25:case"end":return x.stop()}}return x}(),null,null,null,Promise)}return t})()()}),[n,e]),x}}


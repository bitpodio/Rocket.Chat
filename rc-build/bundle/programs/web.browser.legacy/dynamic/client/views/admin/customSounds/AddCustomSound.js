function module(e,n,t){var r,a,o,l,u,c,i,s,f,m,d,p,h,g,x,k,b,E,v,y;function C(e){var n=e.goToNew,t=e.close,C=e.onChange,w=o(e,["goToNew","close","onChange"]),S=x(),T=g(),_=u(""),F=a(_,2),M=F[0],B=F[1],D=u(),I=a(D,2),N=I[0],P=I[1],R=k("uploadCustomSound"),q=k("insertOrUpdateSound"),A=c((function(e){P(e)}),[]),L=b(A,"audio/mp3"),U,j=a(L,1)[0],z=c(function(){function e(e,n){var t,a,o,l;return r.async(function(){function u(u){for(;;)switch(u.prev=u.next){case 0:if(t=v(n,e),0!==(a=E(t,n)).length){u.next=16;break}return u.prev=3,u.next=6,r.awrap(q(t));case 6:o=u.sent,u.next=12;break;case 9:u.prev=9,u.t0=u.catch(3),T({type:"error",message:u.t0});case 12:return t._id=o,t.random=Math.round(1e3*Math.random()),o&&(T({type:"success",message:S("Uploading_file")}),(l=new FileReader).readAsBinaryString(n),l.onloadend=function(){try{R(l.result,n.type,t),T({type:"success",message:S("File_uploaded")})}catch(e){T({type:"error",message:e})}}),u.abrupt("return",o);case 16:a.forEach((function(e){throw new Error({type:"error",message:S("error-the-field-is-required",{field:S(e)})})}));case 17:case"end":return u.stop()}}return u}(),null,null,[[3,9]],Promise)}return e}(),[T,q,S,R]),G=c(function(){function e(){var e;return r.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.awrap(z(M,N));case 3:e=t.sent,T({type:"success",message:S("Custom_Sound_Saved_Successfully")}),n(e)(),C(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),T({type:"error",message:t.t0});case 12:case"end":return t.stop()}}return t}(),null,null,[[0,9]],Promise)}return e}(),[T,n,M,C,z,N,S]);return l.createElement(y.ScrollableContent,w,l.createElement(i,null,l.createElement(i.Label,null,S("Name")),l.createElement(i.Row,null,l.createElement(s,{value:M,onChange:function(e){return B(e.currentTarget.value)},placeholder:S("Name")}))),l.createElement(i,null,l.createElement(i.Label,{alignSelf:"stretch"},S("Sound_File_mp3")),l.createElement(f,{display:"flex",flexDirection:"row",mbs:"none"},l.createElement(d,{inline:"x4"},l.createElement(p,{square:!0,onClick:j},l.createElement(m,{name:"upload",size:"x20"})),N&&N.name||"none"))),l.createElement(i,null,l.createElement(i.Row,null,l.createElement(h,{stretch:!0,w:"full"},l.createElement(p,{mie:"x4",onClick:t},S("Cancel")),l.createElement(p,{primary:!0,onClick:G,disabled:""===M},S("Save"))))))}t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},2),t.link("react",{default:function(e){l=e},useState:function(e){u=e},useCallback:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){i=e},TextInput:function(e){s=e},Box:function(e){f=e},Icon:function(e){m=e},Margins:function(e){d=e},Button:function(e){p=e},ButtonGroup:function(e){h=e}},1),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){g=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){x=e}},3),t.link("../../../contexts/ServerContext",{useMethod:function(e){k=e}},4),t.link("../../../hooks/useFileInput",{useFileInput:function(e){b=e}},5),t.link("./lib",{validate:function(e){E=e},createSoundData:function(e){v=e}},6),t.link("../../../components/VerticalBar",{default:function(e){y=e}},7),t.exportDefault(C)}


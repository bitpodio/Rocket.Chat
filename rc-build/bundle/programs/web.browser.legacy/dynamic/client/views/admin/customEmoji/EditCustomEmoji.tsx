function module(e,n,t){var l,o,a,u,r,c,i,s,m,f,d,p,E,k,x,h,v,C,b,g,j,w,_,y,D;t.link("@babel/runtime/regenerator",{default:function(e){l=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){a=e}},2),t.link("react",{default:function(e){u=e},useCallback:function(e){r=e},useState:function(e){c=e},useMemo:function(e){i=e},useEffect:function(e){s=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){m=e},Button:function(e){f=e},ButtonGroup:function(e){d=e},Margins:function(e){p=e},TextInput:function(e){E=e},Field:function(e){k=e},Icon:function(e){x=e}},1),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){h=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){v=e}},3),t.link("../../../hooks/useFileInput",{useFileInput:function(e){C=e}},4),t.link("../../../hooks/useEndpointUpload",{useEndpointUpload:function(e){b=e}},5),t.link("../../../contexts/ModalContext",{useSetModal:function(e){g=e}},6),t.link("../../../hooks/useEndpointAction",{useEndpointAction:function(e){j=e}},7),t.link("../../../components/VerticalBar",{default:function(e){w=e}},8),t.link("../../../components/DeleteSuccessModal",{default:function(e){_=e}},9),t.link("../../../components/DeleteWarningModal",{default:function(e){y=e}},10),t.link("../../../contexts/ServerContext",{useAbsoluteUrl:function(e){D=e}},11);var S=function(e){var n=e.close,t=e.onChange,S=e.data,T=a(e,["close","onChange","data"]),M=v(),I=h(),R=g(),U=D(),A=S||{},B=A._id,F=A.name,L=A.aliases,P=c((function(){var e;return null!==(e=null==S?void 0:S.name)&&void 0!==e?e:""})),W=o(P,2),N=W[0],O=W[1],q=c((function(){var e,n;return null!==(e=null==S?void 0:null===(n=S.aliases)||void 0===n?void 0:n.join(", "))&&void 0!==e?e:""})),z=o(q,2),G=z[0],H=z[1],V=c(),J=o(V,2),K=J[0],Q=J[1],X=i((function(){return K?URL.createObjectURL(K):S?U("/emoji-custom/"+encodeURIComponent(S.name)+"."+S.extension):null}),[U,S,K]);s((function(){O(F||""),H(L&&L.join(", ")||"")}),[F,L,B]);var Y=i((function(){return F!==N||G!==L.join(", ")||!!K}),[F,N,G,L,K]),Z=b("emoji-custom.update",{},M("Custom_Emoji_Updated_Successfully")),$=r(function(){function e(){var e,n;return l.async(function(){function o(o){for(;;)switch(o.prev=o.next){case 0:if(K){o.next=2;break}return o.abrupt("return");case 2:return(e=new FormData).append("emoji",K),e.append("_id",B),e.append("name",N),e.append("aliases",G),o.next=9,l.awrap(Z(e));case 9:(n=o.sent).success&&t();case 11:case"end":return o.stop()}}return o}(),null,null,null,Promise)}return e}(),[K,B,N,G,Z,t]),ee=j("POST","emoji-custom.delete",i((function(){return{emojiId:B}}),[B])),ne=r((function(){var e=function(){R(null),n(),t()},o=function(){function n(){return l.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.awrap(ee());case 3:R((function(){return u.createElement(_,{children:M("Custom_Emoji_Has_Been_Deleted"),onClose:e})})),n.next=10;break;case 6:n.prev=6,n.t0=n.catch(0),I({type:"error",message:n.t0}),t();case 10:case"end":return n.stop()}}return n}(),null,null,[[0,6]],Promise)}return n}(),a=function(){R(null)};R((function(){return u.createElement(y,{children:M("Custom_Emoji_Delete_Warning"),onDelete:o,onCancel:a})}))}),[n,ee,I,t,R,M]),te=r((function(e){return H(e.currentTarget.value)}),[H]),le=C(Q,"emoji"),oe,ae=o(le,1)[0];return u.createElement(w.ScrollableContent,T,u.createElement(k,null,u.createElement(k.Label,null,M("Name")),u.createElement(k.Row,null,u.createElement(E,{value:N,onChange:function(e){return O(e.currentTarget.value)},placeholder:M("Name")}))),u.createElement(k,null,u.createElement(k.Label,null,M("Aliases")),u.createElement(k.Row,null,u.createElement(E,{value:G,onChange:te,placeholder:M("Aliases")}))),u.createElement(k,null,u.createElement(k.Label,{alignSelf:"stretch",display:"flex",justifyContent:"space-between",alignItems:"center"},M("Custom_Emoji"),u.createElement(f,{square:!0,onClick:ae},u.createElement(x,{name:"upload",size:"x20"}))),X&&u.createElement(m,{display:"flex",flexDirection:"row",mbs:"none",justifyContent:"center"},u.createElement(p,{inline:"x4"},u.createElement(m,{is:"img",style:{objectFit:"contain"},w:"x120",h:"x120",src:X})))),u.createElement(k,null,u.createElement(k.Row,null,u.createElement(d,{stretch:!0,w:"full"},u.createElement(f,{onClick:n},M("Cancel")),u.createElement(f,{primary:!0,onClick:$,disabled:!Y},M("Save"))))),u.createElement(k,null,u.createElement(k.Row,null,u.createElement(d,{stretch:!0,w:"full"},u.createElement(f,{primary:!0,danger:!0,onClick:ne},u.createElement(x,{name:"trash",mie:"x4"}),M("Delete"))))))};t.exportDefault(S)}


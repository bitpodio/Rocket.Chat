function module(e,n,t){var i,a,c,r,o,l,s,u,f,g,m,h,d,k,S,E,p,v,x,b,C,A,P;t.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),t.link("react",{default:function(e){c=e},useState:function(e){r=e},useCallback:function(e){o=e},useRef:function(e){l=e}},0),t.link("@rocket.chat/fuselage",{ButtonGroup:function(e){s=e},Button:function(e){u=e},Box:function(e){f=e},Accordion:function(e){g=e}},1),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){m=e}},2),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){h=e}},3),t.link("../../../contexts/SettingsContext",{useSetting:function(e){d=e}},4),t.link("../../../contexts/ServerContext",{useMethod:function(e){k=e}},5),t.link("../../../components/Page",{default:function(e){S=e}},6),t.link("./PreferencesLocalizationSection",{default:function(e){E=e}},7),t.link("./PreferencesUserPresenceSection",{default:function(e){p=e}},8),t.link("./PreferencesNotificationsSection",{default:function(e){v=e}},9),t.link("./PreferencesMessagesSection",{default:function(e){x=e}},10),t.link("./PreferencesHighlightsSection",{default:function(e){b=e}},11),t.link("./PreferencesSoundSection",{default:function(e){C=e}},12),t.link("./PreferencesMyDataSection",{default:function(e){A=e}},13),t.link("./PreferencesGlobalSection",{default:function(e){P=e}},14);var y=function(){var e=m(),n=h(),t=r(!1),y=a(t,2),R=y[0],L=y[1],O=l({}),w=l({}),D=d("UserData_EnableDownload"),M=o((function(e){var n=e.initialValue,t=e.value,i=e.key,a=O.current;JSON.stringify(n)!==JSON.stringify(t)?a[i]=t:delete a[i];var c=!!Object.values(a).length;c!==R&&L(c)}),[R]),T=k("saveUserPreferences"),j=o(function(){function t(){var t,c;return i.async(function(){function r(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,((t=O.current).highlights||""===t.highlights)&&Object.assign(t,{highlights:t.highlights.split(/,|\n/).map((function(e){return e.trim()})).filter(Boolean)}),t.dontAskAgainList&&(c=Array.isArray(t.dontAskAgainList)&&t.dontAskAgainList.length>0?t.dontAskAgainList.map((function(e){var n=a(e,2),t,i;return{action:n[0],label:n[1]}})):[],Object.assign(t,{dontAskAgainList:c})),r.next=6,i.awrap(T(t));case 6:O.current={},L(!1),Object.values(w.current).forEach((function(e){return e()})),n({type:"success",message:e("Preferences_saved")}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),n({type:"error",message:r.t0});case 15:case"end":return r.stop()}}return r}(),null,null,[[0,12]],Promise)}return t}(),[n,T,e]);return c.createElement(S,null,c.createElement(S.Header,{title:e("Preferences")},c.createElement(s,null,c.createElement(u,{primary:!0,disabled:!R,onClick:j},e("Save_changes")))),c.createElement(S.ScrollableContentWithShadow,null,c.createElement(f,{maxWidth:"x600",w:"full",alignSelf:"center"},c.createElement(g,null,c.createElement(E,{commitRef:w,onChange:M,defaultExpanded:!0}),c.createElement(P,{commitRef:w,onChange:M}),c.createElement(p,{commitRef:w,onChange:M}),c.createElement(v,{commitRef:w,onChange:M}),c.createElement(x,{commitRef:w,onChange:M}),c.createElement(b,{commitRef:w,onChange:M}),c.createElement(C,{commitRef:w,onChange:M}),D&&c.createElement(A,{onChange:M})))))};t.exportDefault(y)}


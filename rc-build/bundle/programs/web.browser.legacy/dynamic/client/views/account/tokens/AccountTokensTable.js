function module(e,n,t){var r,o,a,s,c,l,u,i,f,k,m,_,d,T,x,p,A;t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},2),t.link("@rocket.chat/fuselage",{Box:function(e){s=e}},0),t.link("react",{default:function(e){c=e},useMemo:function(e){l=e},useCallback:function(e){u=e},useState:function(e){i=e}},1),t.link("../../../components/GenericTable",{default:function(e){f=e}},2),t.link("../../../contexts/ServerContext",{useMethod:function(e){k=e}},3),t.link("../../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint:function(e){m=e}},4),t.link("../../../contexts/ModalContext",{useSetModal:function(e){_=e}},5),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){d=e}},6),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){T=e}},7),t.link("../../../contexts/UserContext",{useUserId:function(e){x=e}},8),t.link("./InfoModal",{default:function(e){p=e}},9),t.link("./AccountTokensRow",{default:function(e){A=e}},10);var P=function(e){var n=e.data,t=e.reload,P=T(),C=d(),v=_(),g=x(),h=k("personalAccessTokens:regenerateToken"),y=k("personalAccessTokens:removeToken"),I=m([600],200),E=a(I,2),M=E[0],b=E[1],R=i({current:0,itemsPerPage:25}),w=a(R,2),H=w[0],B=w[1],S=n&&n.success?n.tokens.length:0,G=H.current,N=H.itemsPerPage,U=l((function(){if(!n)return null;if(!n.success)return[];var e=G>S?S-N:G;return n.tokens.slice(e,e+N)}),[G,n,N,S]),z=u((function(){return v(null)}),[v]),D=l((function(){return[c.createElement(f.HeaderCell,{key:"name"},P("API_Personal_Access_Token_Name")),b&&c.createElement(f.HeaderCell,{key:"createdAt"},P("Created_at")),c.createElement(f.HeaderCell,{key:"lastTokenPart"},P("Last_token_part")),c.createElement(f.HeaderCell,{key:"2fa"},P("Two Factor Authentication")),c.createElement(f.HeaderCell,{key:"actions"})].filter(Boolean)}),[b,P]),L=u((function(e){var n=function(){function n(){var n;return o.async(function(){function r(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,v(null),r.next=4,o.awrap(h({tokenName:e}));case 4:n=r.sent,v(c.createElement(p,{title:P("API_Personal_Access_Token_Generated"),content:c.createElement(s,{dangerouslySetInnerHTML:{__html:P("API_Personal_Access_Token_Generated_Text_Token_s_UserId_s",{token:n,userId:g})}}),confirmText:P("ok"),onConfirm:z})),t(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),v(null),C({type:"error",message:r.t0});case 13:case"end":return r.stop()}}return r}(),null,null,[[0,9]],Promise)}return n}();v(c.createElement(p,{title:P("Are_you_sure"),content:P("API_Personal_Access_Tokens_Regenerate_Modal"),confirmText:P("API_Personal_Access_Tokens_Regenerate_It"),onConfirm:n,cancelText:P("Cancel"),onClose:z}))}),[z,C,h,t,v,P,g]),F=u((function(e){var n=function(){function n(){return o.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.awrap(y({tokenName:e}));case 3:C({type:"success",message:P("Removed")}),t(),z(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),C({type:"error",message:n.t0});case 11:case"end":return n.stop()}}return n}(),null,null,[[0,8]],Promise)}return n}();v(c.createElement(p,{title:P("Are_you_sure"),content:P("API_Personal_Access_Tokens_Remove_Modal"),confirmText:P("Yes"),onConfirm:n,cancelText:P("Cancel"),onClose:z}))}),[z,C,t,y,v,P]);return c.createElement(f,{ref:M,header:D,results:U,total:S,setParams:B,params:H},u((function(e){return c.createElement(A,r({onRegenerate:L,onRemove:F,isMedium:b},e))}),[b,L,F]))};t.exportDefault(P)}


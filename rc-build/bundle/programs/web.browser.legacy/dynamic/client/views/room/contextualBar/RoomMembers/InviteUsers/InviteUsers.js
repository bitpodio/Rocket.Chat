function module(e,n,t){var r,i,l,o,a,u,c,s,f,d,k,_,m,x,v,p,E,C,b,T,B;t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){i=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},2),t.export({InviteUsers:function(){return h}}),t.link("react",{default:function(e){o=e},useState:function(e){a=e},useEffect:function(e){u=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){c=e},Field:function(e){s=e},UrlInput:function(e){f=e},Icon:function(e){d=e},Button:function(e){k=e},InputBox:function(e){_=e},Callout:function(e){m=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){x=e}},2),t.link("../../../../../hooks/useClipboardWithToast",{default:function(e){v=e}},3),t.link("../../../../../components/VerticalBar",{default:function(e){p=e}},4),t.link("../../../../../contexts/TranslationContext",{useTranslation:function(e){E=e}},5),t.link("../../../../../contexts/ServerContext",{useEndpoint:function(e){C=e}},6),t.link("../../../../../hooks/useFormatDateAndTime",{useFormatDateAndTime:function(e){b=e}},7),t.link("../EditInvite",{default:function(e){T=e}},8),t.link("../../../providers/ToolboxProvider",{useTabBarClose:function(e){B=e}},9);var h=function(e){var n=e.onClickBack,t=e.onClickClose,r=e.onClickEdit,i=e.captionText,l=e.linkText,a=e.error,u=E(),x,C=v(l).copy;return o.createElement(c,{position:"absolute",h:"full",w:"full"},o.createElement(p.Header,null,n&&o.createElement(p.Back,{onClick:n}),o.createElement(p.Text,null,u("Invite_Users")),t&&o.createElement(p.Close,{onClick:t})),o.createElement(p.Content,null,o.createElement(s,null,o.createElement(s.Label,{flexGrow:0},u("Invite_Link")),o.createElement(s.Row,null,void 0===l?o.createElement(_.Skeleton,null):o.createElement(f,{value:l,addon:o.createElement(d,{onClick:C,name:"copy",size:"x16"})}))),o.createElement(c,{pb:"x8",color:"neutral-600",fontScale:"c2"},i),a&&o.createElement(m,{mi:"x24",type:"danger"},a.toString()),o.createElement(c,{pb:"x16"},r&&o.createElement(k,{onClick:r},u("Edit_Invite")))))};t.exportDefault((function(e){var n=e.rid,t=e.tabBar,c=e.onClickBack,s=a(!1),f=l(s,2),d=f[0],k=f[1],_=b(),m=E(),v=B(),p=x((function(){return k(!0)})),w=x((function(){return k(!1)})),U=C("POST","findOrCreateInvite"),I=a({}),y=l(I,2),L=y[0],S=L.days,g=void 0===S?1:S,D=L.maxUses,P=void 0===D?0:D,Y=y[1],A=x((function(e){Y(e),k(!1)})),F=a(),O=l(F,2),z=O[0],G=O[1],H=x((function(e){if(!e)return"";if(e.expires){var n=new Date(e.expires);if(e.maxUses){var t=e.maxUses-e.uses;return m("Your_invite_link_will_expire_on__date__or_after__usesLeft__uses",{date:_(n),usesLeft:t})}return m("Your_invite_link_will_expire_on__date__",{date:_(n)})}if(e.maxUses){var r=e.maxUses-e.uses;return m("Your_invite_link_will_expire_after__usesLeft__uses",{usesLeft:r})}return m("Your_invite_link_will_never_expire")}));return u((function(){d||function(){function e(){var e;return i.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.awrap(U({rid:n,days:g,maxUses:P}));case 3:e=t.sent,G({url:e.url,caption:H(e)}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),G({error:t.t0});case 10:case"end":return t.stop()}}return t}(),null,null,[[0,7]],Promise)}return e}()()}),[U,d,H,n,g,P]),d?o.createElement(T,r({onClickBack:w,linkText:null==z?void 0:z.url,captionText:null==z?void 0:z.caption},{rid:n,tabBar:t,error:null==z?void 0:z.error,setParams:A,days:g,maxUses:P})):o.createElement(h,{error:null==z?void 0:z.error,onClickClose:v,onClickBack:c,onClickEdit:p,linkText:null==z?void 0:z.url,captionText:null==z?void 0:z.caption})}))}


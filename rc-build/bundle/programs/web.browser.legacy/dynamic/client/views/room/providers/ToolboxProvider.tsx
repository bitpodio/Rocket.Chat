function module(n,t,e){var o,u,r,i,c,a,s,f,l,d,b,v,p,x,m,k,h;e.link("@babel/runtime/helpers/objectSpread2",{default:function(n){o=n}},0),e.link("@babel/runtime/helpers/slicedToArray",{default:function(n){u=n}},1),e.export({ToolboxProvider:function(){return g},useTabContext:function(){return S},useTab:function(){return w},useTabBarOpen:function(){return A},useTabBarClose:function(){return B},useTabBarOpenUserInfo:function(){return M}}),e.link("react",{default:function(n){r=n},useContext:function(n){i=n},useMemo:function(n){c=n},useState:function(n){a=n},useCallback:function(n){s=n},useLayoutEffect:function(n){f=n}},0),e.link("@rocket.chat/fuselage-hooks",{useDebouncedState:function(n){l=n},useMutableCallback:function(n){d=n},useSafely:function(n){b=n}},1),e.link("../lib/Toolbox/ToolboxContext",{ToolboxContext:function(n){v=n}},2),e.link("../../../contexts/RouterContext",{useCurrentRoute:function(n){p=n},useRoute:function(n){x=n}},3),e.link("../../../contexts/SessionContext",{useSession:function(n){m=n}},4),e.link("../../../contexts/SettingsContext",{useSetting:function(n){k=n}},5),e.link("../../../contexts/UserContext",{useUserId:function(n){h=n}},6);var C={l:"live",d:"direct",p:"group",c:"channel"},T=r.memo((function(n){var t=n.handleChange,e=n.room,o=n.action,u=n.id,r="function"==typeof o?o({room:e}):o,i=C[e.t],c=r&&(!r.groups||C[e.t]&&r.groups.includes(i));return f((function(){return t((function(n){c&&r?n.get(u)!==r&&n.set(u,r):n.delete(u)})),function(){t((function(n){return n.delete(u)}))}}),[r,c,t,u]),null})),y=function(n){var t=i(v),e=t.listen,o=t.actions,r=a(Array.from(o.entries())),c=u(r,2),s=c[0],l=c[1];return f((function(){var n=e((function(n){l(Array.from(n.entries()))}));return function(){n()}}),[e,n,l]),{listen:e,actions:s}},g=function(n){var t=n.children,e=n.room,i=k("Accounts_AllowAnonymousRead"),C=h(),g=a([void 0]),S=u(g,2),w=S[0],A=S[1],B=b(l(new Map,5)),M=u(B,2),R=M[0],U=M[1],I=d((function(n){n(R),U((function(n){return new Map(n)}))})),E=y(e),O=E.listen,P=E.actions,_=p(),j=u(_,2),D=j[0],L=j[1],q=x(D||""),z=m("openedRoom"),F=null==L?void 0:L.tab,G=null==L?void 0:L.context,H=d((function(){q.push(o(o({},L),{},{tab:"",context:""}))})),J=d((function(n,t){var e;if(n===(null===(e=w[0])||void 0===e?void 0:e.id)&&void 0===t)return H();q.push(o(o({},L),{},{tab:n,context:t}))})),K=s((function(n){switch(e.t){case"l":J("visitor-info",n);break;case"d":J("user-info",n);break;default:J("members-list",n)}}),[e.t,J]);f((function(){z===e._id&&(F||A([void 0,void 0]),A([R.get(F),G]))}),[F,R,z,e._id,G]);var N=c((function(){return{listen:O,actions:new Map(R),activeTabBar:w[0],context:w[1],open:J,close:H,openUserInfo:K}}),[O,R,w,J,H,K]);return(r.createElement(v.Provider,{value:N},P.filter((function(n){var t,e=u(n,2)[1];return C||i&&e.hasOwnProperty("anonymous")&&e.anonymous})).map((function(n){var t=u(n,2),o=t[0],i=t[1];return(r.createElement(T,{action:i,room:e,id:o,key:o,handleChange:I}))})),t))},S=function(){return i(v).context},w=function(){return i(v).activeTabBar},A=function(){return i(v).open},B=function(){return i(v).close},M=function(){return i(v).openUserInfo}}


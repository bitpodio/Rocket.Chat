function module(e,n,t){var o,i,a,u,l,r,c,s,f,m,k,d,p,b,v,h,E,g,A,C,x,U,I;t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},1),t.link("@babel/runtime/helpers/extends",{default:function(e){a=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){u=e}},3),t.link("react",{default:function(e){l=e},useMemo:function(e){r=e},useRef:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{PositionAnimated:function(e){s=e},AnimatedVisibility:function(e){f=e},Menu:function(e){m=e},Option:function(e){k=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){d=e}},2),t.link("../../../contexts/SettingsContext",{useSetting:function(e){p=e}},3),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){b=e}},4),t.link("../../../components/UserCard",{default:function(e){v=e}},5),t.link("../../../components/Backdrop",{Backdrop:function(e){h=e}},6),t.link("../../../components/UserStatus",{ReactiveUserStatus:function(e){E=e}},7),t.link("../../../components/UTCClock",{LocalTime:function(e){g=e}},8),t.link("../hooks/useUserInfoActions",{useUserInfoActions:function(e){A=e},useUserInfoActionsSpread:function(e){C=e}},9),t.link("../../../contexts/AuthorizationContext",{useRolesDescription:function(e){x=e}},10),t.link("../../../hooks/useAsyncState",{AsyncStatePhase:function(e){U=e}},11),t.link("../../../hooks/useEndpointData",{useEndpointData:function(e){I=e}},12);var S=function(e){var n=e.username,t=e.onClose,S=e.target,y=e.open,T=e.rid,D=c(S),N=x(),R=b(),_=p("UI_Use_Real_Name"),O=r((function(){return{username:n}}),[n]),B=I("users.info",O),M=B.value,P=B.phase;D.current=S;var G=r((function(){var e,t=P===U.LOADING?void 0:null,o,i=(M||{user:{}}).user,a=i._id,u=i.name,r=void 0===u?n:u,c=i.roles,s=void 0===c?t:c,f=i.status,m=void 0===f?null:f,k=i.statusText,d=void 0===k?m:k,p=i.bio,b=void 0===p?t:p,h=i.utcOffset,A=void 0===h?t:h,C=i.nickname,x=i.avatarETag;return{_id:a,name:_?r:n,username:n,roles:s&&N(s).map((function(e,n){return l.createElement(v.Role,{key:n},e)})),bio:b,etag:x,localTime:Number.isInteger(A)&&l.createElement(g,{utcOffset:A}),status:m&&l.createElement(E,{uid:a,presence:m}),customStatus:d,nickname:C}}),[M,n,_,P,N]),L=d((function(e){y&&y(e),t&&t()})),j=C(A(G,T)),z=j.actions,F=j.menu,H=r((function(){return F?l.createElement(m,{flexShrink:0,mi:"x2",key:"menu",ghost:!1,renderItem:function(e){var n=e.label,t=n.label,o=n.icon,i=u(e,["label"]);return(l.createElement(k,a({},i,{label:t,icon:o})))},options:F}):null}),[F]),V=r((function(){var e=function(e){var n=i(e,2),t=n[0],o=n[1],a=o.label,u=o.icon,r=o.action;return(l.createElement(v.Action,{key:t,title:a,"aria-label":a,onClick:r,icon:u}))};return[].concat(o(z.map(e)),[H]).filter(Boolean)}),[z,H]);return l.createElement(l.Fragment,null,l.createElement(h,{bg:"transparent",onClick:t}),l.createElement(s,{anchor:D,placement:"top-start",margin:8,visible:f.UNHIDING},l.createElement(v,a({},G,{onClose:t,open:L,actions:V,t:R}))))};t.exportDefault(S)}


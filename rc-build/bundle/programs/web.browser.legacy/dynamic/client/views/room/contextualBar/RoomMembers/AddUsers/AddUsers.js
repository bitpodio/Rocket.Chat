function module(e,n,t){var r,l,o,a,s,u,c,i,f,d,k,m,C,h,p;t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){l=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},2),t.export({AddUsers:function(){return b}}),t.link("react",{default:function(e){a=e},useState:function(e){s=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){u=e},Button:function(e){c=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){i=e}},2),t.link("../../../../../../ee/client/audit/UserAutoCompleteMultiple",{default:function(e){f=e}},3),t.link("../../../../../components/VerticalBar",{default:function(e){d=e}},4),t.link("../../../../../contexts/TranslationContext",{useTranslation:function(e){k=e}},5),t.link("../../../../../hooks/useForm",{useForm:function(e){m=e}},6),t.link("../../../../../contexts/ServerContext",{useMethod:function(e){C=e}},7),t.link("../../../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){h=e}},8),t.link("../../../providers/ToolboxProvider",{useTabBarClose:function(e){p=e}},9);var b=function(e){var n=e.onClickClose,t=e.onClickBack,r=e.onClickSave,l=e.value,o=e.onChange,s=e.errors,i=k();return a.createElement(a.Fragment,null,a.createElement(d.Header,null,t&&a.createElement(d.Back,{onClick:t}),a.createElement(d.Text,null,i("Add_users")),n&&a.createElement(d.Close,{onClick:n})),a.createElement(d.ScrollableContent,null,a.createElement(u,null,a.createElement(u.Label,{flexGrow:0},i("Choose_users")),a.createElement(f,{errors:s.users,value:l,onChange:o,placeholder:i("Choose_users")}),s.users&&a.createElement(u.Error,null,s.users))),a.createElement(d.Footer,null,a.createElement(c,{primary:!0,disabled:!l||0===l.length,onClick:r},i("Add_users"))))};t.exportDefault((function(e){var n=e.rid,t=e.onClickBack,u=k(),c=h(),f=s({}),d=o(f,2),v=d[0],x=d[1],E=p(),g=C("addUsersToRoom"),T=m({users:[]}),_=T.values,B=T.handlers,y=_.users,A=B.handleUsers,S=i((function(e,n){if(!n){if(y.includes(e))return;return A([].concat(l(y),[e]))}A(y.filter((function(n){return n!==e})))})),F=i(function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if(!(y.length<1)){e.next=2;break}return e.abrupt("return",x({users:u("Select_at_least_one_user")}));case 2:return e.prev=2,e.next=5,r.awrap(g({rid:n,users:y}));case 5:c({type:"success",message:u("Users_added")}),t(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c({type:"error",message:e.t0});case 12:x({});case 13:case"end":return e.stop()}}return e}(),null,null,[[2,9]],Promise)}return e}());return a.createElement(b,{onClickClose:E,onClickBack:t,onClickSave:F,value:y,onChange:S,errors:v})}))}


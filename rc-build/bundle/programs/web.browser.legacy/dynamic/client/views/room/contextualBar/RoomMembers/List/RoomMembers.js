function module(e,n,t){var o,r,i,l,a,c,u,s,m,f,d,k,p,x,C,h,E,b,v,g,y,I,S,w,A,T,U,M,B,D,V,_,O,z;t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){r=e}},1),t.export({createItemData:function(){return L},RoomMembers:function(){return R}}),t.link("react",{default:function(e){i=e},useCallback:function(e){l=e},useMemo:function(e){a=e},useState:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){u=e},Icon:function(e){s=e},TextInput:function(e){m=e},Margins:function(e){f=e},Select:function(e){d=e},Throbber:function(e){k=e},ButtonGroup:function(e){p=e},Button:function(e){x=e},Callout:function(e){C=e}},1),t.link("react-virtuoso",{Virtuoso:function(e){h=e}},2),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){E=e},useDebouncedValue:function(e){b=e},useLocalStorage:function(e){v=e},useAutoFocus:function(e){g=e}},3),t.link("memoize-one",{default:function(e){y=e}},4),t.link("../../../../../contexts/TranslationContext",{useTranslation:function(e){I=e}},5),t.link("../../../../../contexts/UserContext",{useUserRoom:function(e){S=e}},6),t.link("../../../../../components/VerticalBar",{default:function(e){w=e}},7),t.link("../../../../../contexts/ServerContext",{useMethod:function(e){A=e}},8),t.link("../../../../../hooks/useAsyncState",{AsyncStatePhase:function(e){T=e}},9),t.link("../../../../../contexts/AuthorizationContext",{useAtLeastOnePermission:function(e){U=e}},10),t.link("../../hooks/useDataWithLoadMore",{useDataWithLoadMore:function(e){M=e}},11),t.link("./components/MemberItem",{MemberItem:function(e){B=e}},12),t.link("../../UserInfo",{default:function(e){D=e}},13),t.link("../InviteUsers/InviteUsers",{default:function(e){V=e}},14),t.link("../AddUsers/AddUsers",{default:function(e){_=e}},15),t.link("../../../providers/ToolboxProvider",{useTabBarClose:function(e){O=e}},16),t.link("../../../../../components/ScrollableContentWrapper",{default:function(e){z=e}},17);var L=y((function(e,n){return{onClickView:e,rid:n}})),G=i.memo((function(e){var n=e.user,t=e.data,o=e.index,r=t.onClickView,l=t.rid;return n?i.createElement(R.Option,{index:o,username:n.username,_id:n._id,rid:l,status:n.status,name:n.name,onClickView:r}):i.createElement(R.Option.Skeleton,null)})),R=function(e){var n=e.loading,t=e.members,o=void 0===t?[]:t,r=e.text,l=e.type,c=e.setText,b=e.setType,v=e.onClickClose,y=e.onClickView,S=e.onClickAdd,A=e.onClickInvite,T=e.total,U=e.error,M=e.loadMoreItems,B=e.rid,D=I(),V=g(!0),_=a((function(){return[["online",D("Online")],["all",D("All")]]}),[D]),O=L(y,B),R=E((function(e){return M(e+1,Math.min(50,e+1-o.length))}));return i.createElement(i.Fragment,null,i.createElement(w.Header,null,i.createElement(w.Icon,{name:"team"}),i.createElement(w.Text,null,D("Members")),v&&i.createElement(w.Close,{onClick:v})),i.createElement(w.Content,{p:"x12"},i.createElement(u,{display:"flex",flexDirection:"row",p:"x12",flexShrink:0},i.createElement(u,{display:"flex",flexDirection:"row",flexGrow:1,mi:"neg-x4"},i.createElement(f,{inline:"x4"},i.createElement(m,{placeholder:D("Search_by_username"),value:r,ref:V,onChange:c,addon:i.createElement(s,{name:"magnifier",size:"x20"})}),i.createElement(d,{flexGrow:0,width:"110px",onChange:b,value:l,options:_})))),U&&i.createElement(u,{pi:"x24",pb:"x12"},i.createElement(C,{type:"danger"},U)),n&&i.createElement(u,{pi:"x24",pb:"x12"},i.createElement(k,{size:"x12"})),!n&&o.length<=0&&i.createElement(u,{pi:"x24",pb:"x12"},D("No_results_found")),!n&&o.length>0&&i.createElement(u,{pi:"x24",pb:"x12"},i.createElement(u,{is:"span",color:"info",fontScale:"p1"},D("Showing"),": ",i.createElement(u,{is:"span",color:"default",fontScale:"p2"},o.length)),i.createElement(u,{is:"span",color:"info",fontScale:"p1",mis:"x8"},D("Total"),": ",i.createElement(u,{is:"span",color:"default",fontScale:"p2"},T))),i.createElement(u,{w:"full",h:"full",overflow:"hidden",flexShrink:1},!n&&o&&o.length>0&&i.createElement(h,{style:{height:"100%",width:"100%"},totalCount:T,endReached:R,overscan:50,data:o,components:{Scroller:z},itemContent:function(e,n){return i.createElement(G,{data:O,user:n,index:e})}}))),i.createElement(w.Footer,null,i.createElement(p,{stretch:!0},A&&i.createElement(x,{onClick:A,width:"50%"},i.createElement(u,{is:"span",mie:"x4"},i.createElement(s,{name:"link",size:"x20"})),D("Invite_Link")),S&&i.createElement(x,{onClick:S,width:"50%",primary:!0},i.createElement(u,{is:"span",mie:"x4"},i.createElement(s,{name:"user-plus",size:"x20"})),D("Add_users")))))};R.Option=B;var F=function(e){var n=A("getUsersOfRoom");return M(l((function(e){return n.apply(void 0,r(e))}),[n]),e)};t.exportDefault((function(e){var n=e.rid,t=c({}),u=o(t,2),s=u[0],m=u[1],f=O(),d=S(n);d.type=d.t,d.rid=n;var k=v("members-list-type","online"),p=o(k,2),x=p[0],C=p[1],h=c(""),g=o(h,2),y=g[0],I=g[1],w=b(y,500),A=a((function(){return[n,"all"===x,{limit:50},w]}),[n,x,w]),M=F(A),B=M.value,z=M.phase,L=M.more,G=M.error,P=U(a((function(){return["p"===d.t?"add-user-to-any-p-room":"add-user-to-any-c-room","add-user-to-joined-room"]}),[d.t]),n),W=l((function(e){I(e.currentTarget.value)}),[]),N=E((function(e){var n=e.currentTarget.dataset.username;m({tab:"UserInfo",username:n})})),j=E((function(){m({tab:"InviteUsers"})})),H=E((function(){m({tab:"AddUsers"})})),q=l((function(){return m({})}),[m]),J=l((function(e,n){return L((function(t){var r=o(t,4),i=r[0],l=r[1],a=r[3];return[i,l,{skip:e,limit:n-e},a]}),(function(e,n){return{total:n.total,finished:n.records.length<50,records:[].concat(r(e.records),r(n.records))}}))}),[L]);return"UserInfo"===s.tab?i.createElement(D,{rid:n,onClickClose:f,onClickBack:q,username:s.username}):"InviteUsers"===s.tab?i.createElement(V,{onClickClose:f,rid:n,onClickBack:q}):"AddUsers"===s.tab?i.createElement(_,{onClickClose:f,rid:n,onClickBack:q}):i.createElement(R,{rid:n,loading:z===T.LOADING,type:x,text:y,error:G,setType:C,setText:W,members:null==B?void 0:B.records,total:null==B?void 0:B.total,onClickClose:f,onClickView:N,onClickAdd:P&&H,onClickInvite:P&&j,loadMoreItems:J})}))}


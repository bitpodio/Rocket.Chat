function module(e,n,t){var o,i,a,l,r,u,s,c,d,m,f,p,h,k,C,b,E;t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){o=e}},0),t.export({NotificationPreferences:function(){return A}}),t.link("react",{default:function(e){i=e}},0),t.link("@rocket.chat/fuselage",{Button:function(e){a=e},ButtonGroup:function(e){l=e},FieldGroup:function(e){r=e},Icon:function(e){u=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){s=e}},2),t.link("../../../../hooks/useForm",{useForm:function(e){c=e}},3),t.link("../../../../contexts/UserContext",{useUserSubscription:function(e){d=e}},4),t.link("../../../../contexts/TranslationContext",{useTranslation:function(e){m=e}},5),t.link("../../../../contexts/CustomSoundContext",{useCustomSound:function(e){f=e}},6),t.link("../../../../hooks/useEndpointAction",{useEndpointActionExperimental:function(e){p=e}},7),t.link("../../../../components/VerticalBar",{default:function(e){h=e}},8),t.link("./components/Preferences",{Preferences:function(e){k=e}},9),t.link("./components/NotificationByDevice",{NotificationByDevice:function(e){C=e}},10),t.link("./components/NotificationToogle",{NotificationToogle:function(e){b=e}},11),t.link("../../providers/ToolboxProvider",{useTabBarClose:function(e){E=e}},12);var A=function(e){var n=e.handleClose,t=e.formValues,o=e.formHandlers,s=e.formHasUnsavedChanges,c=e.handlePlaySound,d=e.handleOptions,f=e.handleSaveButton,p=m();return i.createElement(i.Fragment,null,i.createElement(h.Header,null,i.createElement(h.Icon,{name:"bell"}),i.createElement(h.Text,null,p("Notifications_Preferences")),n&&i.createElement(h.Close,{onClick:n})),i.createElement(h.ScrollableContent,null,i.createElement(b,{label:p("Turn_ON"),description:p("Receive_alerts"),onChange:o.handleTurnOn,defaultChecked:t.turnOn}),i.createElement(b,{label:p("Mute_Group_Mentions"),onChange:o.handleMuteGroupMentions,defaultChecked:t.muteGroupMentions}),i.createElement(b,{label:p("Show_counter"),description:p("Display_unread_counter"),onChange:o.handleShowCounter,defaultChecked:t.showCounter}),i.createElement(r,null,i.createElement(C,{device:p("Desktop"),icon:"computer"},i.createElement(k,{id:"DesktopAlert",onChange:o.handleDesktopAlert,name:p("Alerts"),options:d.alerts,optionDefault:t.desktopAlert}),i.createElement(k,{id:"DesktopAudio",onChange:o.handleDesktopAudio,name:p("Audio"),options:d.audio,optionDefault:t.desktopAudio}),i.createElement(k,{id:"DesktopSound",onChange:o.handleDesktopSound,name:p("Sound"),options:d.sound,optionDefault:t.desktopSound},i.createElement(a,{mis:"x4",square:!0,ghost:!0,onClick:c},i.createElement(u,{name:"play",size:"x18"})))),i.createElement(C,{device:p("Mobile"),icon:"mobile"},i.createElement(k,{id:"MobileAlert",onChange:o.handleMobileAlert,name:p("Alerts"),options:d.alerts,optionDefault:t.mobileAlert})),i.createElement(C,{device:p("Email"),icon:"mail"},i.createElement(k,{id:"EmailAlert",onChange:o.handleEmailAlert,name:p("Alerts"),options:d.alerts,optionDefault:t.emailAlert})))),i.createElement(h.Footer,null,i.createElement(l,{stretch:!0},n&&i.createElement(a,{onClick:n},p("Cancel")),i.createElement(a,{primary:!0,disabled:!s,onClick:f},p("Save")))))};t.exportDefault(i.memo((function(e){var n=e.rid,t=m(),a=d(n),l=f(),r=E(),u=p("POST","rooms.saveNotification",t("Room_updated_successfully")),h=c({turnOn:!a.disableNotifications,muteGroupMentions:a.muteGroupMentions,showCounter:!a.hideUnreadStatus,desktopAlert:"subscription"===a.desktopPrefOrigin&&a.desktopNotifications||"default",desktopAudio:"subscription"===a.audioPrefOrigin&&a.audioNotifications||"default",desktopSound:a.audioNotificationValue||"default",mobileAlert:"subscription"===a.mobilePrefOrigin&&a.mobilePushNotifications||"default",emailAlert:"subscription"===a.emailPrefOrigin&&a.emailNotifications||"default"}),k=h.values,C=h.handlers,b=h.hasUnsavedChanges,g=h.commit,N=[["default",t("Default")],["all",t("All_messages")],["mentions",t("Mentions")],["nothing",t("Nothing")]],v=Object.entries(l.list.get()).map((function(e){return[e[0],e[1].name]})),S={alerts:N,audio:N,sound:[["none None",t("None")],["default",t("Default")]].concat(o(v))},D=function(){return l.play(k.desktopSound)},M=s((function(){var e={};e.disableNotifications=k.turnOn?"0":"1",e.muteGroupMentions=k.muteGroupMentions?"1":"0",e.hideUnreadStatus=k.showCounter?"0":"1",e.desktopNotifications=k.desktopAlert,e.audioNotifications=k.desktopAudio,e.audioNotificationValue=k.desktopSound,e.mobilePushNotifications=k.mobileAlert,e.emailNotifications=k.emailAlert,u({roomId:n,notifications:e}),g()}));return i.createElement(A,{handleClose:r,formValues:k,formHandlers:C,formHasUnsavedChanges:b,handlePlaySound:D,handleOptions:S,handleSaveButton:M})})))}


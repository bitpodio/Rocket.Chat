function module(e,t,i){var n,r;i.link("@babel/runtime/helpers/slicedToArray",{default:function(e){n=e}},0),i.export({JitsiMeetExternalAPI:function(){return c}}),i.link("postis",{default:function(e){r=e}},0);var o=200,s=300,a=0,l={displayName:"display-name",toggleAudio:"toggle-audio",toggleVideo:"toggle-video",toggleFilmStrip:"toggle-film-strip",toggleChat:"toggle-chat",toggleContactList:"toggle-contact-list",toggleShareScreen:"toggle-share-screen"},d={incomingMessage:"incoming-message",outgoingMessage:"outgoing-message",displayNameChange:"display-name-change",participantJoined:"participant-joined",participantLeft:"participant-left",videoConferenceJoined:"video-conference-joined",videoConferenceLeft:"video-conference-left"};function m(e,t){e.send(t)}function h(e,t,i){t in d?m(e,{method:"jitsiSystemMessage",params:{type:"eventStatus",name:d[t],value:i}}):console.error("Not supported event name.")}function c(e,t,i,n,l,d,m,h,c){if((!i||i<o)&&(i=o),(!n||n<s)&&(n=s),this.parentNode=null,l)this.parentNode=l;else{var p=document.scripts[document.scripts.length-1];this.parentNode=p.parentNode}var f;if(this.iframeHolder=this.parentNode.appendChild(document.createElement("div")),this.iframeHolder.id="jitsiConference"+a,i&&(this.iframeHolder.style.width=i+"px"),n&&(this.iframeHolder.style.height=n+"px"),this.frameName="jitsiConferenceFrame"+a,this.url=(h?"http":"https")+"://"+e+"/",t&&(this.url+=t),c&&(this.url+="?jwt="+c),this.url+="#jitsi_meet_external_api_id="+a,d)for(f in meteorBabelHelpers.sanitizeForInObject(d))d.hasOwnProperty(f)&&"string"==typeof f&&(this.url+="&config."+f+"="+d[f]);if(m)for(f in meteorBabelHelpers.sanitizeForInObject(m))m.hasOwnProperty(f)&&"string"==typeof f&&(this.url+="&interfaceConfig."+f+"="+m[f]);this.frame=document.createElement("iframe"),this.frame.src=this.url,this.frame.name=this.frameName,this.frame.id=this.frameName,this.frame.width="100%",this.frame.height="100%",this.frame.setAttribute("allowFullScreen","true"),this.frame.setAttribute("allow","microphone; camera"),this.frame=this.iframeHolder.appendChild(this.frame),this.postis=r({window:this.frame.contentWindow,scope:"jitsi_meet_external_api_"+a}),this.eventHandlers={},a++}c.prototype.executeCommand=function(e,t){if(e in l){var i=t;i||(i=[]),m(this.postis,{method:l[e],params:i})}else console.error("Not supported command name.")},c.prototype.executeCommands=function(e){var t=this;Object.entries(e).forEach((function(e){var i=n(e,2),r=i[0],o=i[1];return t.executeCommand(r,o)}))},c.prototype.addEventListeners=function(e){var t=this;Object.entries(e).forEach((function(e){var i=n(e,2),r=i[0],o=i[1];return t.addEventListener(r,o)}))},c.prototype.addEventListener=function(e,t){e in d?(e in this.eventHandlers||this.postis.listen(d[e],function(t){e in this.eventHandlers&&"function"==typeof this.eventHandlers[e]&&this.eventHandlers[e].call(null,t)}.bind(this)),this.eventHandlers[e]=t,h(this.postis,e,!0)):console.error("Not supported event name.")},c.prototype.removeEventListener=function(e){e in this.eventHandlers?(delete this.eventHandlers[e],h(this.postis,e,!1)):console.error("The event "+e+" is not registered.")},c.prototype.removeEventListeners=function(e){for(var t=0;t<e.length;t++)this.removeEventListener(e[t])},c.prototype.dispose=function(){this.postis.destroy();var e=document.getElementById(this.frameName);e&&(e.src="about:blank");var t=this;window.setTimeout((function(){t.iframeHolder.removeChild(t.frame),t.iframeHolder.parentNode.removeChild(t.iframeHolder)}),10)}}


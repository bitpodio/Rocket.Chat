function module(t,e,i){var n,o,s;i.link("@babel/runtime/helpers/inheritsLoose",{default:function(t){n=t}},0),i.export({JitsiBridge:function(){return r}}),i.link("@rocket.chat/emitter",{Emitter:function(t){o=t}},0),i.link("./Jitsi",{JitsiMeetExternalAPI:function(t){s=t}},1);var r=function(t){function e(e,i){var n,o=e.openNewWindow,s=e.ssl,r=e.domain,a=e.jitsiRoomName,u=e.accessToken,c=e.desktopSharingChromeExtId,h=e.name;return(n=t.call(this)||this).openNewWindow=o,n.ssl=s,n.domain=r,n.jitsiRoomName=a,n.accessToken=u,n.desktopSharingChromeExtId=c,n.name=h,n.heartbeat=i,n}n(e,t);var i=e.prototype;return i.start=function(){function t(t){var e=this,i=setInterval((function(){return e.emit("HEARTBEAT",!0)}),this.heartbeat);this.once("dispose",(function(){return clearTimeout(i)}));var n=this.openNewWindow,o=this.ssl,r=this.domain,a=this.jitsiRoomName,u=this.accessToken,c=this.desktopSharingChromeExtId,h=this.name,d=o?"https://":"http://",m={desktopSharingChromeExtId:c},p={};if(n){var l=u?"?jwt="+u:"",f=window.open(d+r+"/"+a+l,a);if(!f)return;var v=setInterval((function(){f.closed&&e.dispose()}),1e3);return this.once("dispose",(function(){return clearTimeout(v)})),f.focus()}var k,w=500,E=new s(r,a,"auto",500,t,m,p,!o,u);E.executeCommand("displayName",[h]),this.once("dispose",(function(){return E.dispose()}))}return t}(),i.dispose=function(){function t(){clearInterval(this.timer),this.emit("dispose",!0)}return t}(),e}(o)}


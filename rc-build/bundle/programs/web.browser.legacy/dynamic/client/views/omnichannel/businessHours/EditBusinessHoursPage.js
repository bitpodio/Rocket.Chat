function module(e,n,t){var s,r,u,o,a,i,l,c,f,m,p,d,k,h,b,E,v,H,x,y,g,B,C;t.link("@babel/runtime/regenerator",{default:function(e){s=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){u=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},3),t.link("react",{default:function(e){a=e},useRef:function(e){i=e},useMemo:function(e){l=e},useState:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{Button:function(e){f=e},ButtonGroup:function(e){m=e},Callout:function(e){p=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){d=e}},2),t.link("./BusinessHoursFormContainer",{default:function(e){k=e}},3),t.link("../../../components/Page",{default:function(e){h=e}},4),t.link("../../../components/PageSkeleton",{default:function(e){b=e}},5),t.link("./BusinessHoursRouter",{useIsSingleBusinessHours:function(e){E=e}},6),t.link("../../../contexts/RouterContext",{useRoute:function(e){v=e}},7),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){H=e}},8),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){x=e}},9),t.link("../../../contexts/ServerContext",{useMethod:function(e){y=e}},10),t.link("./mapBusinessHoursForm",{mapBusinessHoursForm:function(e){g=e}},11),t.link("../../../hooks/useEndpointData",{useEndpointData:function(e){B=e}},12),t.link("../../../hooks/useAsyncState",{AsyncStatePhase:function(e){C=e}},13);var S=function(e){var n=e.id,t=e.type,S=H(),D=x(),R=E(),w=B("livechat/business-hour",l((function(){return{_id:n,type:t}}),[n,t])),T=w.value,_=w.phase,P=i({form:{}}),A=c(!1),M=o(A,2),j=M[0],z=M[1],F=y("livechat:saveBusinessHour"),L=y("livechat:removeBusinessHour"),N=v("omnichannel-businessHours"),O=d(function(){function e(){var e,n,t,o,a,i,l,c,f,m;return s.async(function(){function p(p){for(;;)switch(p.prev=p.next){case 0:if(_===C.RESOLVED&&T.success){p.next=2;break}return p.abrupt("return");case 2:if(e=P.current,n=e.form,t=e.multiple,o=(t=void 0===t?{}:t).departments,a=u(t,["departments"]),i=e.timezone,l=(i=void 0===i?{}:i).name,"default"===T.businessHour.type||""!==a.name){p.next=9;break}return p.abrupt("return",D({type:"error",message:S("error-the-field-is-required",{field:S("Name")})}));case 9:return c=g(n,T.businessHour),f=(null==o?void 0:o.join(","))||"",p.prev=11,m=r(r(r({},T.businessHour),a),{},{departmentsToApplyBusinessHour:null!=f?f:"",timezoneName:l||T.businessHour.timezone.name,workHours:c}),p.next=15,s.awrap(F(m));case 15:D({type:"success",message:S("Business_hours_updated")}),N.push({}),p.next=22;break;case 19:p.prev=19,p.t0=p.catch(11),D({type:"error",message:p.t0});case 22:case"end":return p.stop()}}return p}(),null,null,[[11,19]],Promise)}return e}()),W=d(function(){function e(){return s.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if("custom"===t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s.awrap(L(n,t));case 5:D({type:"success",message:S("Business_Hour_Removed")}),N.push({}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),D({type:"error",message:e.t0});case 12:case"end":return e.stop()}}return e}(),null,null,[[2,9]],Promise)}return e}()),G=d((function(){N.push({})}));return _===C.LOADING?a.createElement(b,null):_===C.REJECTED||C.RESOLVED&&!T.businessHour?a.createElement(h,null,a.createElement(h.Header,{title:S("Business_Hours")},a.createElement(f,{onClick:G},S("Back"))),a.createElement(h.ScrollableContentWithShadow,null,a.createElement(p,{type:"danger"},S("Error")))):a.createElement(h,null,a.createElement(h.Header,{title:S("Business_Hours")},a.createElement(m,null,!R&&a.createElement(f,{onClick:G},S("Back")),"custom"===t&&a.createElement(f,{primary:!0,danger:!0,onClick:W},S("Delete")),a.createElement(f,{primary:!0,onClick:O,disabled:!j},S("Save")))),a.createElement(h.ScrollableContentWithShadow,null,a.createElement(k,{data:T.businessHour,saveRef:P,onChange:z})))};t.exportDefault(S)}


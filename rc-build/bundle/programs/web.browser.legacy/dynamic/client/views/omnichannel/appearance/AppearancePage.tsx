function module(e,n,t){var a,l,r,c,o,u,i,s,f,p,d,m,h,k,v,E,g,x,b,C;t.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},1),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},2),t.link("react",{default:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{Callout:function(e){o=e},ButtonGroup:function(e){u=e},Button:function(e){i=e},Box:function(e){s=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){f=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){p=e}},3),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){d=e}},4),t.link("../../../contexts/AuthorizationContext",{usePermission:function(e){m=e}},5),t.link("../../../contexts/ServerContext",{useMethod:function(e){h=e}},6),t.link("../../../hooks/useForm",{useForm:function(e){k=e}},7),t.link("../../../components/Page",{default:function(e){v=e}},8),t.link("./AppearanceForm",{default:function(e){E=e}},9),t.link("../../../components/PageSkeleton",{default:function(e){g=e}},10),t.link("../../../components/NotAuthorizedPage",{default:function(e){x=e}},11),t.link("../../../hooks/useEndpointData",{useEndpointData:function(e){b=e}},12),t.link("../../../hooks/useAsyncState",{AsyncStatePhase:function(e){C=e}},13);var S=function(e){return e.reduce((function(e,n){var t,a=n._id,l=n.value;return e=r(r({},e),{},((t={})[a]=l,t))}),{})},A=function(){var e=p(),n=b("livechat/appearance"),t=n.value,a=n.phase,l=n.error,r;return m("view-livechat-appearance")?a===C.LOADING?c.createElement(g,null):t&&t.success&&t.appearance&&!l?c.createElement(y,{settings:t.appearance}):c.createElement(v,null,c.createElement(v.Header,{title:e("Edit_Custom_Field")}),c.createElement(v.ScrollableContentWithShadow,null,c.createElement(o,{type:"danger"},e("Error")))):c.createElement(x,null)},y=function(e){var n=e.settings,t=p(),r=d(),o=h("livechat:saveAppearance"),m=k(S(n)),g=m.values,x=m.handlers,b=m.commit,C=m.reset,A=m.hasUnsavedChanges,y=f(function(){function e(){var e;return a.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:return e=Object.entries(g).map((function(e){var n=l(e,2),t,a;return{_id:n[0],value:n[1]}})),n.prev=1,n.next=4,a.awrap(o(e));case 4:r({type:"success",message:t("Settings_updated")}),b(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r({type:"success",message:n.t0});case 11:case"end":return n.stop()}}return n}(),null,null,[[1,8]],Promise)}return e}()),w=function(){C()};return c.createElement(v,null,c.createElement(v.Header,{title:t("Appearance")},c.createElement(u,{align:"end"},c.createElement(i,{onClick:w},t("Reset")),c.createElement(i,{primary:!0,onClick:y,disabled:!A},t("Save")))),c.createElement(v.ScrollableContentWithShadow,null,c.createElement(s,{maxWidth:"x600",w:"full",alignSelf:"center"},c.createElement(E,{values:g,handlers:x}))))};t.exportDefault(A)}


function module(e,t,n){var r,a,l,u,i,c,o,s,f,m,d,g,p,x,h,E,k,v,y,b,T,C,A,L;function w(e){var t=e.agentList,n=e.setAgentList,o=c(e,["agentList","setAgentList"]),d=v(),p=m(),x=i(p,2),E=x[0],k=x[1],b=y("GET","livechat/users/agent/"+E),T=A(),C=s((function(e){return k(e)})),w=s(function(){function e(){var e,r;return a.async(function(){function i(i){for(;;)switch(i.prev=i.next){case 0:if(E){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,a.awrap(b());case 4:e=i.sent,r=e.user,0===t.filter((function(e){return e.agentId===r._id})).length?(n([l(l({},r),{},{agentId:r._id})].concat(u(t))),k()):T({type:"error",message:d("This_agent_was_already_selected")});case 7:case"end":return i.stop()}}return i}(),null,null,null,Promise)}return e}());return f.createElement(g,r({display:"flex",alignItems:"center"},o),f.createElement(L,{empty:!0,value:E,onChange:C}),f.createElement(h,{disabled:!E,onClick:w,mis:"x8",primary:!0},d("Add")))}function I(e){var t=e.agentId,n=e.setAgentList,r=e.agentList,l=C(),u=A(),i=v(),c=s((function(e){e.stopPropagation();var c=function(){function e(){var e;return a.async(function(){function a(a){for(;;)switch(a.prev=a.next){case 0:e=r.filter((function(e){return e.agentId!==t})),n(e),u({type:"success",message:i("Agent_removed")}),l();case 4:case"end":return a.stop()}}return a}(),null,null,null,Promise)}return e}();l(f.createElement(T,{onDelete:c,onCancel:function(){return l()}}))}));return f.createElement(h,{small:!0,ghost:!0,title:i("Remove"),onClick:c},f.createElement(x,{name:"trash",size:"x16"}))}function S(e){var t=e.agentId,n=e.setAgentList,r=e.agentList,l=v(),u=m(r.find((function(e){return e.agentId===t})).count||0),c=i(u,2),o=c[0],d=c[1],p=s(function(){function e(e){var l;return a.async(function(){function a(a){for(;;)switch(a.prev=a.next){case 0:l=Number(e.currentTarget.value),d(l),n(r.map((function(e){return e.agentId===t&&(e.count=l),e})));case 3:case"end":return a.stop()}}return a}(),null,null,null,Promise)}return e}());return f.createElement(g,{display:"flex"},f.createElement(E,{flexShrink:1,key:t+"-count",title:l("Count"),value:o,onChange:p}))}function _(e){var t=e.agentId,n=e.setAgentList,r=e.agentList,l=v(),u=m(r.find((function(e){return e.agentId===t})).order||0),c=i(u,2),o=c[0],d=c[1],p=s(function(){function e(e){var l;return a.async(function(){function a(a){for(;;)switch(a.prev=a.next){case 0:l=Number(e.currentTarget.value),d(l),n(r.map((function(e){return e.agentId===t&&(e.order=l),e})));case 3:case"end":return a.stop()}}return a}(),null,null,null,Promise)}return e}());return f.createElement(g,{display:"flex"},f.createElement(E,{flexShrink:1,key:t+"-order",title:l("Order"),value:o,onChange:p}))}n.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),n.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){l=e}},2),n.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){u=e}},3),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},4),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){c=e}},5),n.export({RemoveAgentButton:function(){return I},Count:function(){return S},Order:function(){return _}}),n.link("@rocket.chat/fuselage-hooks",{useMediaQuery:function(e){o=e},useMutableCallback:function(e){s=e}},0),n.link("react",{default:function(e){f=e},useState:function(e){m=e},useEffect:function(e){d=e}},1),n.link("@rocket.chat/fuselage",{Box:function(e){g=e},Table:function(e){p=e},Icon:function(e){x=e},Button:function(e){h=e},NumberInput:function(e){E=e}},2),n.link("../../../components/GenericTable",{default:function(e){k=e}},3),n.link("../../../contexts/TranslationContext",{useTranslation:function(e){v=e}},4),n.link("../../../hooks/useEndpointAction",{useEndpointAction:function(e){y=e}},5),n.link("../../../components/avatar/UserAvatar",{default:function(e){b=e}},6),n.link("../../../components/DeleteWarningModal",{default:function(e){T=e}},7),n.link("../../../contexts/ModalContext",{useSetModal:function(e){C=e}},8),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){A=e}},9),n.link("../../../components/AutoCompleteAgent",{AutoCompleteAgent:function(e){L=e}},10);var M=f.memo((function(e){var t=e.agentId,n=e.username,r=e.name,a=e.avatarETag,l=e.mediaQuery,u=e.agentList,i=e.setAgentList;return(f.createElement(p.Row,{key:t,tabIndex:0,role:"link",action:!0,"qa-user-id":t},f.createElement(p.Cell,{withTruncatedText:!0},f.createElement(g,{display:"flex",alignItems:"center"},f.createElement(b,{size:l?"x28":"x40",title:n,username:n,etag:a}),f.createElement(g,{display:"flex",withTruncatedText:!0,mi:"x8"},f.createElement(g,{display:"flex",flexDirection:"column",alignSelf:"center",withTruncatedText:!0},f.createElement(g,{fontScale:"p2",withTruncatedText:!0,color:"default"},r||n),!l&&r&&f.createElement(g,{fontScale:"p1",color:"hint",withTruncatedText:!0}," ","@"+n," "))))),f.createElement(p.Cell,{fontScale:"p1",color:"hint",withTruncatedText:!0},f.createElement(S,{agentId:t,agentList:u,setAgentList:i})),f.createElement(p.Cell,{fontScale:"p1",color:"hint",withTruncatedText:!0},f.createElement(_,{agentId:t,agentList:u,setAgentList:i})),f.createElement(p.Cell,{fontScale:"p1",color:"hint"},f.createElement(I,{agentId:t,agentList:u,setAgentList:i}))))}));function N(e){var t=e.agents,n=e.setAgentListFinal,a=v(),l=m(t&&JSON.parse(JSON.stringify(t))||[]),u=i(l,2),c=u[0],s=u[1];d((function(){return n(c)}),[c,n]);var g=o("(min-width: 1024px)");return(f.createElement(f.Fragment,null,f.createElement(w,{agentList:c,setAgentList:s}),f.createElement(k,{header:f.createElement(f.Fragment,null,f.createElement(k.HeaderCell,{key:"name",w:"x200"},a("Name")),f.createElement(k.HeaderCell,{key:"Count",w:"x140"},a("Count")),f.createElement(k.HeaderCell,{key:"Order",w:"x120"},a("Order")),f.createElement(k.HeaderCell,{key:"remove",w:"x40"},a("Remove"))),results:c,total:null==c?void 0:c.length,pi:"x24"},(function(e){return f.createElement(M,r({key:e._id,mediaQuery:g,agentList:c,setAgentList:s},e))}))))}n.exportDefault(N)}


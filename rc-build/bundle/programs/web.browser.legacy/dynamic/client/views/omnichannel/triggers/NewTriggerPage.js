function module(e,n,t){var a,r,o,s,i,u,c,l,m,f,d,p,g,k,x,h;t.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},2),t.link("react",{default:function(e){s=e},useMemo:function(e){i=e}},0),t.link("@rocket.chat/fuselage",{Button:function(e){u=e},FieldGroup:function(e){c=e},Box:function(e){l=e},Margins:function(e){m=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){f=e}},2),t.link("./TriggersForm",{default:function(e){d=e}},3),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){p=e}},4),t.link("../../../contexts/ServerContext",{useMethod:function(e){g=e}},5),t.link("../../../hooks/useForm",{useForm:function(e){k=e}},6),t.link("../../../contexts/RouterContext",{useRoute:function(e){x=e}},7),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){h=e}},8);var v=function(e){var n=e.onSave,t=h(),v=p(),b=x("omnichannel-triggers"),C=g("livechat:saveTrigger"),E=k({name:"",description:"",enabled:!0,runOnce:!1,conditions:{name:"page-url",value:""},actions:{name:"",params:{sender:"queue",msg:"",name:""}}}),w=E.values,y=E.handlers,M=f(function(){function e(){var e,s,i,u,c;return a.async(function(){function l(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,e=w.actions.params,s=e.sender,i=e.msg,u=e.name,c=o(w,["actions"]),l.next=4,a.awrap(C(r(r({},c),{},{conditions:[w.conditions],actions:[{name:"send-message",params:r({sender:s,msg:i},"custom"===s&&{name:u})}]})));case 4:t({type:"success",message:v("Saved")}),n(),b.push({}),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(0),t({type:"error",message:l.t0});case 12:case"end":return l.stop()}}return l}(),null,null,[[0,9]],Promise)}return e}()),T=w.name,F=w.actions.params.msg,S=i((function(){return T&&F}),[T,F]);return s.createElement(s.Fragment,null,s.createElement(c,null,s.createElement(d,{values:w,handlers:y})),s.createElement(l,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},s.createElement(m,{inlineEnd:"x4"},s.createElement(u,{flexGrow:1,primary:!0,onClick:M,disabled:!S},v("Save")))))};t.exportDefault(v)}


function module(e,t,n){var r,o,a,u,l,i,s,c,f,d,m,p,k,h,w,x,b,v,E,y,g;n.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){r=e}},0),n.link("@babel/runtime/regenerator",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},2),n.link("meteor/meteor",{Meteor:function(e){u=e}},0),n.link("react",{default:function(e){l=e},useState:function(e){i=e},useCallback:function(e){s=e},useMemo:function(e){c=e}},1),n.link("@rocket.chat/fuselage",{Button:function(e){f=e},TextInput:function(e){d=e},Field:function(e){m=e},Modal:function(e){p=e},Box:function(e){k=e},Throbber:function(e){h=e}},2),n.link("@rocket.chat/fuselage-hooks",{useSafely:function(e){w=e}},3),n.link("../../../contexts/TranslationContext",{useTranslation:function(e){x=e}},4),n.link("../../../contexts/UserContext",{useUser:function(e){b=e}},5),n.link("../../../contexts/ServerContext",{useMethod:function(e){v=e}},6),n.link("../../../hooks/useMethodData",{useMethodData:function(e){E=e}},7),n.link("../../../contexts/RouterContext",{useRouteParameter:function(e){y=e},useRoute:function(e){g=e}},8);var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.requirePasswordChange,n=e.requirePasswordChangeReason,r=void 0===n?t?"You_need_to_change_your_password":"Please_enter_your_new_password_below":n;return r},C=function(){var e=b(),t=x(),n=v("setUserPassword"),C=v("resetPassword"),P=y("token"),T=c((function(){return[{token:P}]}),[P]),R,M=E("getPasswordPolicy",T).value,A=(M=void 0===M?{}:M).enabled,D=M.policy,S=g("home"),U=_(e||{}),q=i(""),B=a(q,2),F=B[0],H=B[1],z=w(i(!1)),I=a(z,2),L=I[0],W=I[1],Y=w(i()),j=a(Y,2),G=j[0],J=j[1],K=s((function(e){return H(e.currentTarget.value)}),[H]),N=!F.trim()||L,O=s(function(){function e(e){var t,r,a,l;return o.async(function(){function i(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),!N){i.next=3;break}return i.abrupt("return");case 3:if(W(!0),i.prev=4,!P||!C){i.next=14;break}return i.next=8,o.awrap(C(P,F));case 8:return t=i.sent,i.next=11,o.awrap(u.loginWithToken(t.token));case 11:S.push({}),i.next=16;break;case 14:return i.next=16,o.awrap(n(F));case 16:i.next=24;break;case 18:i.prev=18,i.t0=i.catch(4),r=i.t0.error,a=i.t0.reason,J(l=void 0===a?r:a);case 24:return i.prev=24,W(!1),i.finish(24);case 27:case"end":return i.stop()}}return i}(),null,null,[[4,18,24,27]],Promise)}return e}(),[N,W,P,C,F,S,n,J]);return l.createElement(p,{is:"form",onSubmit:O},l.createElement(p.Header,null,l.createElement(p.Title,{textAlign:"start"},t("Password"))),l.createElement(p.Content,null,l.createElement(m,null,l.createElement(m.Label,null,t(U)),l.createElement(m.Row,null,l.createElement(d,{placeholder:t("Type_your_new_password"),type:"password",name:"newPassword",id:"newPassword",dir:"auto",onChange:K,autoComplete:"off",value:F})),G&&l.createElement(m.Error,null,G),A&&l.createElement(m.Hint,null,D.map((function(e,n){return l.createElement(k,{is:"p",textAlign:"start",key:n},t.apply(void 0,r(e)))}))))),l.createElement(p.Footer,null,l.createElement(m,null,l.createElement(m.Row,null,l.createElement(f,{primary:!0,disabled:N,type:"submit"},L?l.createElement(h,{size:"x12",inheritColor:!0}):t("Reset"))))))};n.exportDefault(C)}


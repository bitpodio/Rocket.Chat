function module(e,n,t){var r,a,u,o,l,i,c,s,m,f,d,p,E,v,g,x,h,k,b,w,_,T,y,S,C;function F(e){var n=e.step,t=e.title,F=e.active,R=_(),I=x("registerUser"),P=x("setUsername"),L=h("forceLogin"),U=T(),q=b(),z=function(){function e(e){var n,t,r,u,o;return a.async(function(){function l(l){for(;;)switch(l.prev=l.next){case 0:return n=e.name,t=e.username,r=e.email,u=e.password,o=e.onRegistrationEmailSent,l.next=3,a.awrap(I({name:n,username:t,email:r,pass:u}));case 3:return U.run("userRegistered"),l.prev=4,l.next=7,a.awrap(R(r,u));case 7:l.next=16;break;case 9:if(l.prev=9,l.t0=l.catch(4),"error-invalid-email"!==l.t0.error){l.next=14;break}return o&&o(),l.abrupt("return");case 14:throw q({type:"error",message:l.t0}),l.t0;case 16:return L(!1),l.next=19,a.awrap(P(t));case 19:U.run("usernameSet");case 20:case"end":return l.stop()}}return l}(),null,null,[[4,9]],Promise)}return e}(),A=k("UTF8_Names_Validation"),M=E((function(){return new RegExp("^"+A+"$")}),[A]),D=E((function(){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+$/i}),[]),Z=v(""),H=r(Z,2),N=H[0],W=H[1],$=v(""),G=r($,2),O=G[0],V=G[1],j=v(""),B=r(j,2),J=B[0],K=B[1],Q=v(""),X=r(Q,2),Y=X[0],ee=X[1],ne=v(!0),te=r(ne,2),re=te[0],ae=te[1],ue=v(!0),oe=r(ue,2),le=oe[0],ie=oe[1],ce=E((function(){return N&&O&&J&&Y}),[N,O,J,Y]),se=v(!1),me=r(se,2),fe=me[0],de=me[1];g((function(){ae(O&&M.test(O))}),[O,M]),g((function(){ie(J&&D.test(J))}),[J,D]);var pe=w(),Ee=f(F),ve=function(){function e(e){return a.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),N&&O&&J&&Y){n.next=3;break}return n.abrupt("return");case 3:return de(!0),n.prev=4,n.next=7,a.awrap(z({name:N,username:O,email:J,password:Y,onRegistrationEmailSent:function(){q({type:"success",message:pe("We_have_sent_registration_email")})}}));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.error(n.t0);case 12:return n.prev=12,de(!1),n.finish(12);case 15:case"end":return n.stop()}}return n}(),null,null,[[4,9,12,15]],Promise)}return e}(),ge=d(),xe=d(),he=d(),ke=d();return p.createElement(S,{active:F,working:fe,onSubmit:ve},p.createElement(C,{number:n,title:t}),p.createElement(c,{blockEnd:"x32"},p.createElement(l,null,p.createElement(o,null,p.createElement(o.Label,{htmlFor:ge,required:!0},pe("Name")),p.createElement(o.Row,null,p.createElement(m,{ref:Ee,id:ge,addon:p.createElement(i,{name:"user",size:"x20"}),placeholder:pe("Type_your_name"),value:N,onChange:function(e){var n=e.currentTarget.value;return W(n)}}))),p.createElement(o,null,p.createElement(o.Label,{htmlFor:xe,required:!0},pe("Username")),p.createElement(o.Row,null,p.createElement(m,{id:xe,addon:p.createElement(i,{name:"at",size:"x20"}),placeholder:pe("Type_your_username"),value:O,onChange:function(e){var n=e.currentTarget.value;return V(n)},error:O&&!M.test(O)?"error":""})),!re&&p.createElement(o.Error,null,pe("Invalid_username"))),p.createElement(o,null,p.createElement(o.Label,{htmlFor:he,required:!0},pe("Organization_Email")),p.createElement(o.Row,null,p.createElement(u,{id:he,addon:p.createElement(i,{name:"mail",size:"x20"}),placeholder:pe("Type_your_email"),value:J,onChange:function(e){var n=e.currentTarget.value;return K(n)},error:le?"":"error"})),!le&&p.createElement(o.Error,null,pe("Invalid_email"))),p.createElement(o,null,p.createElement(o.Label,{htmlFor:ke,required:!0},pe("Password")),p.createElement(o.Row,null,p.createElement(s,{id:ke,addon:p.createElement(i,{name:"key",size:"x20"}),placeholder:pe("Type_your_password"),value:Y,onChange:function(e){var n=e.currentTarget.value;return ee(n)}}))))),p.createElement(y,{disabled:fe,isContinueEnabled:ce}))}t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),t.link("@rocket.chat/fuselage",{EmailInput:function(e){u=e},Field:function(e){o=e},FieldGroup:function(e){l=e},Icon:function(e){i=e},Margins:function(e){c=e},PasswordInput:function(e){s=e},TextInput:function(e){m=e}},0),t.link("@rocket.chat/fuselage-hooks",{useAutoFocus:function(e){f=e},useUniqueId:function(e){d=e}},1),t.link("react",{default:function(e){p=e},useMemo:function(e){E=e},useState:function(e){v=e},useEffect:function(e){g=e}},2),t.link("../../../contexts/ServerContext",{useMethod:function(e){x=e}},3),t.link("../../../contexts/SessionContext",{useSessionDispatch:function(e){h=e}},4),t.link("../../../contexts/SettingsContext",{useSetting:function(e){k=e}},5),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){b=e}},6),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){w=e}},7),t.link("../../../contexts/UserContext",{useLoginWithPassword:function(e){_=e}},8),t.link("../../../hooks/useCallbacks",{useCallbacks:function(e){T=e}},9),t.link("../Pager",{Pager:function(e){y=e}},10),t.link("../Step",{Step:function(e){S=e}},11),t.link("../StepHeader",{StepHeader:function(e){C=e}},12),t.exportDefault(F)}


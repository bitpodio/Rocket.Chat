function module(e,t,n){var r,o,a,l,i,c,u,s,f,d,m,k,h,x,p,C,E,T,v,w,b,g;n.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},2),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},3),n.export({default:function(){return D}}),n.link("react",{default:function(e){i=e},useState:function(e){c=e},useMemo:function(e){u=e},useCallback:function(e){s=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){f=e},useMutableCallback:function(e){d=e}},1),n.link("@rocket.chat/fuselage",{Table:function(e){m=e},Tag:function(e){k=e},Box:function(e){h=e}},2),n.link("moment",{default:function(e){x=e}},3),n.link("meteor/meteor",{Meteor:function(e){p=e}},4),n.link("meteor/kadira:flow-router",{FlowRouter:function(e){C=e}},5),n.link("../../contexts/TranslationContext",{useTranslation:function(e){E=e}},6),n.link("../../hooks/useEndpointData",{useEndpointData:function(e){T=e}},7),n.link("../../components/GenericTable",{default:function(e){v=e}},8),n.link("../../components/FilterByText",{default:function(e){w=e}},9),n.link("../../contexts/AuthorizationContext",{usePermission:function(e){b=e}},10),n.link("../../components/NotAuthorizedPage",{default:function(e){g=e}},11);var y=function(e,t,n){var r=e.text,o=e.itemsPerPage,i=e.current,c=l(t,2),s=c[0],f=c[1];return u((function(){var e;return a(a({sort:JSON.stringify((e={},e[s]="asc"===f?1:-1,e)),open:!1,roomName:r,agents:[n]},o&&{count:o}),i&&{offset:i})}),[s,i,f,o,n,r])},A=function(){var e=c({text:"",current:0,itemsPerPage:25}),t=l(e,2),n=t[0],a=t[1],b=c(["closedAt","desc"]),g=l(b,2),A=g[0],D=g[1],P=E(),S=f(n,500),H=f(A,500),_=p.userId(),L=y(S,H,_),N=d((function(e){var t=l(A,2),n=t[0],r=t[1];D(n!==e?[e,"asc"]:[e,"asc"===r?"desc":"asc"])})),B=d((function(e){C.go("live",{id:e})})),F,M=T("livechat/rooms",L).value,R=u((function(){return[i.createElement(v.HeaderCell,{key:"fname",direction:A[1],active:"fname"===A[0],onClick:N,sort:"fname",w:"x400"},P("Contact_Name")),i.createElement(v.HeaderCell,{key:"department",direction:A[1],active:"department"===A[0],onClick:N,sort:"department",w:"x200"},P("Department")),i.createElement(v.HeaderCell,{key:"ts",direction:A[1],active:"ts"===A[0],onClick:N,sort:"ts",w:"x200"},P("Started_At")),i.createElement(v.HeaderCell,{key:"chatDuration",direction:A[1],active:"chatDuration"===A[0],onClick:N,sort:"chatDuration",w:"x120"},P("Chat_Duration")),i.createElement(v.HeaderCell,{key:"closedAt",direction:A[1],active:"closedAt"===A[0],onClick:N,sort:"closedAt",w:"x200"},P("Closed_At"))].filter(Boolean)}),[A,N,P]),j=s((function(e){var t=e._id,n=e.fname,r=e.ts,o=e.closedAt,a=e.department,l=e.tags;return(i.createElement(m.Row,{key:t,tabIndex:0,role:"link",onClick:function(){return B(t)},action:!0,"qa-user-id":t},i.createElement(m.Cell,{withTruncatedText:!0},i.createElement(h,{display:"flex",flexDirection:"column"},i.createElement(h,{color:"default",withTruncatedText:!0},n),l&&i.createElement(h,{color:"hint",display:"flex","flex-direction":"row"},l.map((function(e){return i.createElement(h,{style:{marginTop:4,whiteSpace:"nowrap",overflow:e.length>10?"hidden":"visible",textOverflow:"ellipsis"},key:e,mie:"x4"},i.createElement(k,{style:{display:"inline"},disabled:!0},e))}))))),i.createElement(m.Cell,{withTruncatedText:!0},a?a.name:""),i.createElement(m.Cell,{withTruncatedText:!0},x(r).format("L LTS")),i.createElement(m.Cell,{withTruncatedText:!0},x(o).from(x(r),!0)),i.createElement(m.Cell,{withTruncatedText:!0},x(o).format("L LTS"))))}),[B]);return i.createElement(v,{header:R,renderRow:j,results:M&&M.rooms,total:M&&M.total,setParams:a,params:n,renderFilter:function(e){var t=e.onChange,n=o(e,["onChange"]);return(i.createElement(w,r({onChange:t},n)))}})};function D(e){var t;return b("view-l-room")?i.createElement(A,e):i.createElement(g,null)}}


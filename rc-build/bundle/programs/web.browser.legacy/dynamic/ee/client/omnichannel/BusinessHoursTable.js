function module(e,n,t){var r,o,a,l,u,i,c,s,f,m,d,p,h,k,x,E,C,v,b,T,g,y,H,w;function P(e){var n=e._id,t=e.type,r=e.reload,o=b("livechat:removeBusinessHour"),a=C(),i=T(),d=g(),p=f(function(){function e(){return l.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.awrap(o(n,t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:r();case 9:case"end":return e.stop()}}return e}(),null,null,[[0,5]],Promise)}return e}()),h=f((function(e){e.stopPropagation();var n=function(){function e(){return l.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.awrap(p());case 3:i({type:"success",message:d("Business_Hour_Removed")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:"error",message:e.t0});case 9:a();case 10:case"end":return e.stop()}}return e}(),null,null,[[0,6]],Promise)}return e}();a(m.createElement(k,{onDelete:n,onCancel:function(){return a()}}))}));return m.createElement(u.Cell,{fontScale:"p1",color:"hint",onClick:h,withTruncatedText:!0},m.createElement(s,{small:!0,ghost:!0,title:d("Remove"),onClick:h},m.createElement(c,{name:"trash",size:"x16"})))}t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},2),t.link("@babel/runtime/regenerator",{default:function(e){l=e}},3),t.export({RemoveBusinessHourButton:function(){return P},BusinessHoursTable:function(){return B}}),t.link("@rocket.chat/fuselage",{Table:function(e){u=e},Callout:function(e){i=e},Icon:function(e){c=e},Button:function(e){s=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){f=e}},1),t.link("react",{default:function(e){m=e},memo:function(e){d=e},useMemo:function(e){p=e},useState:function(e){h=e}},2),t.link("../../../client/components/DeleteWarningModal",{default:function(e){k=e}},3),t.link("../../../client/components/GenericTable",{default:function(e){x=e}},4),t.link("../../../client/components/FilterByText",{default:function(e){E=e}},5),t.link("../../../client/contexts/ModalContext",{useSetModal:function(e){C=e}},6),t.link("../../../client/contexts/RouterContext",{useRoute:function(e){v=e}},7),t.link("../../../client/contexts/ServerContext",{useMethod:function(e){b=e}},8),t.link("../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){T=e}},9),t.link("../../../client/contexts/TranslationContext",{useTranslation:function(e){g=e}},10),t.link("../../../client/hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint:function(e){y=e}},11),t.link("../../../client/hooks/useEndpointData",{useEndpointData:function(e){H=e}},12),t.link("../../../client/hooks/useAsyncState",{AsyncStatePhase:function(e){w=e}},13);var D=d(function(){function e(e){var n=e._id,t=e.name,r=e.timezone,o=e.workHours,a=e.active,l=e.type,i=e.reload,c=g(),s=v("omnichannel-businessHours"),f=function(){s.push({context:"edit",type:l,id:n})},d=function(e){["Enter","Space"].includes(e.nativeEvent.code)&&f()},h=p((function(){return o.reduce((function(e,n){return n.open&&e.push(c(n.day)),e}),[])}),[c,o]),k=function(e){e.stopPropagation()};return m.createElement(u.Row,{key:n,role:"link",action:!0,tabIndex:0,onClick:f,onKeyDown:d},m.createElement(u.Cell,{withTruncatedText:!0},t||c("Default")),m.createElement(u.Cell,{withTruncatedText:!0},c(r.name)),m.createElement(u.Cell,{withTruncatedText:!0},h.join(", ")),m.createElement(u.Cell,{withTruncatedText:!0},c(a?"Yes":"No")),t&&m.createElement(u.Cell,{withTruncatedText:!0,onClick:k},m.createElement(P,{_id:n,reload:i,type:l})))}return e}()),R=function(){var e=g(),n=h((function(){return{current:0,itemsPerPage:25,text:""}})),t=a(n,2),r=t[0],o=t[1],l=H("livechat/business-hours.list?count="+r.itemsPerPage+"&offset="+r.current+"&name="+r.text),u=l.value,c=l.phase,s=l.reload;return c===w.REJECTED?m.createElement(i,null,e("Error"),": error"):m.createElement(B,{businessHours:null==u?void 0:u.businessHours,totalbusinessHours:null==u?void 0:u.total,params:r,onChangeParams:o,reload:s})};function B(e){var n=e.businessHours,t=e.totalbusinessHours,l=e.params,u=e.onChangeParams,i=e.reload,c=g(),s=y([600],200),f=a(s,2),d=f[0],p=f[1];return m.createElement(x,{ref:d,header:m.createElement(m.Fragment,null,m.createElement(x.HeaderCell,null,c("Name")),m.createElement(x.HeaderCell,null,c("Timezone")),m.createElement(x.HeaderCell,null,c("Open_Days")),m.createElement(x.HeaderCell,{width:"x100"},c("Enabled")),m.createElement(x.HeaderCell,{width:"x100"},c("Remove"))),results:n,total:t,params:l,setParams:u,renderFilter:function(e){var n=e.onChange,t=o(e,["onChange"]);return(m.createElement(E,r({onChange:n},t)))}},(function(e){return m.createElement(D,r({key:e._id,medium:p,reload:i},e))}))}t.exportDefault(R)}


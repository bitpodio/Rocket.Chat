function module(e,n,t){var i,r,l,o,a,u,c,s,d,m,f,p,h,E,k,x,v,_,b,y,w,g;function C(e){var n=e.priorityId,t=e.reload,i=a((function(){return{priorityId:n}}),[n]),r=y("livechat/priorities.getOne",i),l=r.value,u=r.phase,c=r.error,s=x();return u===w.LOADING?o.createElement(g,null):c||!l?o.createElement(p,{m:"x16",type:"danger"},s("Not_Available")):o.createElement(T,{priorityId:n,data:l,reload:t})}function I(e){var n=e.reload;return(o.createElement(T,{isNew:!0,reload:n}))}function T(e){var n=e.data,t=e.isNew,p=e.priorityId,y=e.reload,w=l(e,["data","isNew","priorityId","reload"]),g=x(),C=b("omnichannel-priorities"),I=n||{},T=_({name:I.name,description:I.description,dueTimeInMinutes:I.dueTimeInMinutes}),M=T.values,D=T.handlers,N=T.hasUnsavedChanges,S=D.handleName,P=D.handleDescription,R=D.handleDueTimeInMinutes,G=M.name,A=M.description,F=M.dueTimeInMinutes,L=a((function(){return G&&0!==G.length?void 0:g("The_field_is_required","name")}),[G,g]),q=a((function(){return!F||F<=0?g("The_field_is_required","Estimated_due_time_in_minutes"):void 0}),[F,g]),B=E("livechat:savePriority"),j=k(),O=h((function(){y()})),W=a((function(){return!L&&!q}),[L,q]),U=h(function(){function e(){var e;return r.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:if(e={name:G,description:A,dueTimeInMinutes:""+F},W){n.next=3;break}return n.abrupt("return",j({type:"error",message:g("The_field_is_required")}));case 3:return n.prev=3,n.next=6,r.awrap(B(p,e));case 6:j({type:"success",message:g("Saved")}),y(),C.push({}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),j({type:"error",message:n.t0});case 14:case"end":return n.stop()}}return n}(),null,null,[[3,11]],Promise)}return e}());return o.createElement(v.ScrollableContent,i({is:"form"},w),o.createElement(u,null,o.createElement(u.Label,null,g("Name"),"*"),o.createElement(u.Row,null,o.createElement(c,{placeholder:g("Name"),flexGrow:1,value:G,onChange:S,error:N&&L}))),o.createElement(u,null,o.createElement(u.Label,null,g("Description")),o.createElement(u.Row,null,o.createElement(c,{placeholder:g("Description"),flexGrow:1,value:A,onChange:P}))),o.createElement(u,null,o.createElement(u.Label,null,g("Estimated_due_time_in_minutes"),"*"),o.createElement(u.Row,null,o.createElement(f,{placeholder:g("Estimated_due_time_in_minutes"),value:F,onChange:R,flexGrow:1,error:N&&q}))),o.createElement(u.Row,null,o.createElement(m,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},o.createElement(d,{inlineEnd:"x4"},!t&&o.createElement(s,{flexGrow:1,type:"reset",disabled:!N,onClick:O},g("Reset")),o.createElement(s,{primary:!0,mie:"none",flexGrow:1,disabled:!N||!W,onClick:U},g("Save"))))))}t.link("@babel/runtime/helpers/extends",{default:function(e){i=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},2),t.export({PriorityEditWithData:function(){return C},PriorityNew:function(){return I},PriorityEdit:function(){return T}}),t.link("react",{default:function(e){o=e},useMemo:function(e){a=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){u=e},TextInput:function(e){c=e},Button:function(e){s=e},Margins:function(e){d=e},Box:function(e){m=e},NumberInput:function(e){f=e},Callout:function(e){p=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){h=e}},2),t.link("../../../../client/contexts/ServerContext",{useMethod:function(e){E=e}},3),t.link("../../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){k=e}},4),t.link("../../../../client/contexts/TranslationContext",{useTranslation:function(e){x=e}},5),t.link("../../../../client/components/VerticalBar",{default:function(e){v=e}},6),t.link("../../../../client/hooks/useForm",{useForm:function(e){_=e}},7),t.link("../../../../client/contexts/RouterContext",{useRoute:function(e){b=e}},8),t.link("../../../../client/hooks/useEndpointData",{useEndpointData:function(e){y=e}},9),t.link("../../../../client/hooks/useAsyncState",{AsyncStatePhase:function(e){w=e}},10),t.link("../../../../client/components/Skeleton",{FormSkeleton:function(e){g=e}},11)}


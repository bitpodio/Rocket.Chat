function module(e,t,r){let a,n,l,s,i,o,u,c,d,m,p,f,h,k,v,b,x,g,S,T,E,y,w,I,A,_,R,B,C,M,V,D,N,U,L,q,z;function j(){const e=a(["left: 0; top: 0;"]);return j=function(){return e},e}r.link("@babel/runtime/helpers/taggedTemplateLiteral",{default(e){a=e}},0),r.link("@babel/runtime/helpers/extends",{default(e){n=e}},1),r.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},2),r.link("@babel/runtime/helpers/objectSpread2",{default(e){s=e}},3),r.link("react",{default(e){i=e},forwardRef(e){o=e},useState(e){u=e},useMemo(e){c=e},useEffect(e){d=e},useRef(e){m=e}},0),r.link("meteor/meteor",{Meteor(e){p=e}},1),r.link("@rocket.chat/fuselage",{Sidebar(e){f=e},TextInput(e){h=e},Box(e){k=e},Icon(e){v=e}},2),r.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){b=e},useDebouncedValue(e){x=e},useStableArray(e){g=e},useAutoFocus(e){S=e},useUniqueId(e){T=e}},3),r.link("memoize-one",{default(e){E=e}},4),r.link("@rocket.chat/css-in-js",{css(e){y=e}},5),r.link("react-virtuoso",{Virtuoso(e){w=e}},6),r.link("tinykeys",{default(e){I=e}},7),r.link("../../components/UserStatus",{ReactiveUserStatus(e){A=e}},8),r.link("../../contexts/TranslationContext",{useTranslation(e){_=e}},9),r.link("../../contexts/SettingsContext",{useSetting(e){R=e}},10),r.link("../../../app/utils",{roomTypes(e){B=e}},11),r.link("../../contexts/UserContext",{useUserPreference(e){C=e},useUserSubscriptions(e){M=e}},12),r.link("../RoomList",{SideBarItemTemplateWithData(e){V=e}},13),r.link("../hooks/useTemplateByViewMode",{useTemplateByViewMode(e){D=e}},14),r.link("../hooks/useAvatarTemplate",{useAvatarTemplate(e){N=e}},15),r.link("../../../lib/escapeRegExp",{escapeRegExp(e){U=e}},16),r.link("../../hooks/useMethodData",{useMethodData(e){L=e}},17),r.link("../../hooks/useAsyncState",{AsyncStatePhase(e){q=e}},18),r.link("../../components/ScrollableContentWrapper",{default(e){z=e}},19);const P=E((e,t,r,a,n,l,s)=>({items:e,t:t,SideBarItemTemplate:r,AvatarTemplate:a,useRealName:n,extended:l,sidebarViewMode:s})),W=i.memo(e=>{let{item:t,data:r}=e;const{t:a,SideBarItemTemplate:n,AvatarTemplate:l,useRealName:s,extended:o}=r;return"d"!==t.t||t.u?i.createElement(V,{id:"search-".concat(t._id),tabIndex:-1,extended:o,t:a,room:t,SideBarItemTemplate:n,AvatarTemplate:l}):i.createElement(K,{id:"search-".concat(t._id),useRealName:s,t:a,item:t,SideBarItemTemplate:n,AvatarTemplate:l})}),K=i.memo(e=>{let{item:t,id:r,style:a,t:n,SideBarItemTemplate:l,AvatarTemplate:s,useRealName:o,sidebarViewMode:u}=e;const c=o?t.fname||t.name:t.name||t.fname,d="medium"!==u,m=i.createElement(f.Item.Icon,null,i.createElement(A,{small:d&&"small",uid:t._id})),p=B.getRouteLink(t.t,t);return i.createElement(l,{is:"a",style:{height:"100%"},id:r,href:p,title:c,subtitle:n("No_messages_yet"),avatar:s&&i.createElement(s,t),icon:m,style:a})}),$=(()=>p.Device.isDesktop()?window.navigator.platform.toLowerCase().includes("mac")?"(⌘+K)":"(⌃+K)":"")(),F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const r=/(@|#)?(.*)/i,[,a,n]=e.match(r),l="#"===a,s="@"===a,i=c(()=>l?{users:!1,rooms:!0}:s?{users:!0,rooms:!1}:{users:!0,rooms:!0},[l,s]),o=c(()=>[n,t,i],[i,n,t]),{value:u={users:[],rooms:[]},phase:d}=L("spotlight",o);return c(()=>u?{data:u,status:d}:{data:{users:[],rooms:[]},status:"loading"},[u,d])},H={sort:{lm:-1,name:1}},O=e=>{const t=/(@|#)?(.*)/i,r=e.match(t),[,a,n]=r,l=c(()=>{const e=new RegExp(U(n),"i");return s({$or:[{name:e},{fname:e}]},a&&{t:"@"===a?"d":{$ne:"d"}})},[n,a]),i=M(l,H),o=g([...null==i?void 0:i.map(e=>{let{t:t,name:r}=e;return"d"===t?r:null})].filter(Boolean)),{data:u,status:d}=F(e,o);return c(()=>{const e=[],t=(e,t,r)=>{let{_id:a}=e;return t===r.findIndex(e=>a===e._id)},r=e=>!i.find(t=>{var r;return"d"===e.t&&(null===(r=e.uids)||void 0===r?void 0:r.length)>1&&e.uids.includes(t._id)||[t.rid,t._id].includes(e._id)}),a=e=>!i.find(t=>{var r;return"d"===t.t&&2===(null===(r=t.uids)||void 0===r?void 0:r.length)&&t.uids.includes(e._id)}),l=e=>({_id:e._id,t:"d",name:e.username,fname:e.name,avatarETag:e.avatarETag}),s=e.filter(e=>[e.usernamame,e.name,e.fname].includes(n));return e.push(...u.users.filter(t).filter(a).map(l)),e.push(...u.rooms.filter(r)),{data:Array.from(new Set([...s,...i,...e])),status:d}},[i,n,u])},X=e=>{const[t,r]=u(e),a=b(e=>{r(e.currentTarget.value)});return{value:t,onChange:a,setValue:r}},G=(e,t,r)=>{r.setAttribute("aria-activedescendant",e.id),e.setAttribute("aria-selected",!0),e.classList.add("rcx-sidebar-item--selected"),t&&(t.setAttribute("aria-selected",!1),t.classList.remove("rcx-sidebar-item--selected"))},J=o((e,t)=>i.createElement(z,n({},e,{ref:t,renderView:e=>{let{style:t}=e,r=l(e,["style"]);return(i.createElement("div",n({},r,{className:"teste",style:s(s({},t),{},{overflowX:"hidden"})})))},renderTrackHorizontal:e=>i.createElement("div",n({},e,{style:{display:"none"},className:"track-horizontal"}))}))),Q=i.forwardRef((function e(t,r){let{onClose:a}=t;const s=T(),o=_(),u=X(""),{setValue:c}=u,p=l(u,["setValue"]),g=S(),E=m(),A=m(),B=m(),M=m(0),V=C("sidebarViewMode"),U=R("UI_Use_Real_Name"),L=D(),z=N(),K="extended"===V,F=x(p.value,100),H=[o("Search"),$].filter(Boolean).join(" "),{data:Q,status:Y}=O(F),Z=P(Q,o,L,z,U,K,V),ee=b(e=>{let t=null;return(t="up"===e?B.current.parentElement.previousSibling.querySelector("a"):B.current.parentElement.nextSibling.querySelector("a"))?(G(t,B.current,g.current),t):B.current}),te=b(()=>{var e;M.current=0,E.current.scrollToIndex({index:M.current}),B.current=null===(e=A.current)||void 0===e?void 0:e.querySelector("a.rcx-sidebar-item"),B.current&&G(B.current,void 0,g.current)});return d(()=>{te()}),d(()=>{te()},[F,te]),d(()=>{if(!g.current)return;const e=I(g.current,{Escape:e=>{e.preventDefault(),c(e=>(e||a(),te(),""))},Tab:a,ArrowUp:()=>{const e=ee("up");M.current=Math.max(M.current-1,0),E.current.scrollToIndex({index:M.current}),B.current=e},ArrowDown:()=>{const e=ee("down");M.current=Math.min(M.current+1,(null==Q?void 0:Q.length)+1),E.current.scrollToIndex({index:M.current}),B.current=e},Enter:()=>{B.current&&B.current.click()}});return()=>{e()}},[g,ee,Q.length,a,te,c]),i.createElement(k,{position:"absolute","rcx-sidebar":!0,h:"full",display:"flex",flexDirection:"column",zIndex:99,w:"full",className:y(j()),ref:r},i.createElement(f.TopBar.Section,{role:"search",is:"form"},i.createElement(h,n({"aria-owns":s,"data-qa":"sidebar-search-input",ref:g},p,{placeholder:H,addon:i.createElement(v,{name:"cross",size:"x20",onClick:a})}))),i.createElement(k,{ref:A,"aria-expanded":"true",role:"listbox",id:s,tabIndex:-1,flexShrink:1,h:"full",w:"full","data-qa":"sidebar-search-result",onClick:a,"aria-busy":Y!==q.RESOLVED},i.createElement(w,{style:{height:"100%",width:"100%"},totalCount:null==Q?void 0:Q.length,data:Q,components:{Scroller:J},itemContent:(e,t)=>i.createElement(W,{data:Z,item:t}),ref:E})))}));r.exportDefault(Q)}


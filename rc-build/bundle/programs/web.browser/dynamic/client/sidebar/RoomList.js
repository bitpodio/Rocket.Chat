function module(e,t,a){let n,o,r,l,i,s,d,u,m,c,p,v,k,h,f,S,g,b,T,y,M,x,w,I,E,A,R,_,B,O;a.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),a.link("@babel/runtime/helpers/objectSpread2",{default(e){o=e}},1),a.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),a.export({itemSizeMap:()=>C,createItemData:()=>z,Row:()=>D,normalizeSidebarMessage:()=>L,SideBarItemTemplateWithData:()=>H}),a.link("@rocket.chat/fuselage",{Sidebar(e){l=e},Box(e){i=e},Badge(e){s=e}},0),a.link("@rocket.chat/fuselage-hooks",{useResizeObserver(e){d=e}},1),a.link("react",{default(e){u=e},forwardRef(e){m=e},useRef(e){c=e},useEffect(e){p=e}},2),a.link("react-virtuoso",{Virtuoso(e){v=e}},3),a.link("memoize-one",{default(e){k=e}},4),a.link("./hooks/usePreventDefault",{usePreventDefault(e){h=e}},5),a.link("../../app/markdown/lib/markdown",{filterMarkdown(e){f=e}},6),a.link("../contexts/TranslationContext",{useTranslation(e){S=e}},7),a.link("../../app/utils",{roomTypes(e){g=e}},8),a.link("../contexts/UserContext",{useUserPreference(e){b=e},useUserId(e){T=e}},9),a.link("./RoomMenu",{default(e){y=e}},10),a.link("../contexts/SessionContext",{useSession(e){M=e}},11),a.link("./sections/Omnichannel",{default(e){x=e}},12),a.link("./hooks/useTemplateByViewMode",{useTemplateByViewMode(e){w=e}},13),a.link("./hooks/useShortcutOpenMenu",{useShortcutOpenMenu(e){I=e}},14),a.link("./hooks/useAvatarTemplate",{useAvatarTemplate(e){E=e}},15),a.link("./hooks/useRoomList",{useRoomList(e){A=e}},16),a.link("../hooks/useRoomIcon",{useRoomIcon(e){R=e}},17),a.link("./hooks/useSidebarPaletteColor",{useSidebarPaletteColor(e){_=e}},18),a.link("../../lib/escapeHTML",{escapeHTML(e){B=e}},19),a.link("../components/ScrollableContentWrapper",{default(e){O=e}},20);const V={Omnichannel:x},C=e=>{switch(e){case"extended":return 44;case"medium":return 36;case"condensed":default:return 28}},U=e=>{let{room:t,small:a}=e;const n=R(t,a);return(u.createElement(l.Item.Icon,n.name&&n,!n.name&&n))},z=k((e,t,a,n,o,r,l)=>({extended:e,t:t,SideBarItemTemplate:a,AvatarTemplate:n,openedRoom:o,sidebarViewMode:r,isAnonymous:l})),D=u.memo(e=>{let{data:t,item:a}=e;const{extended:n,t:o,SideBarItemTemplate:r,AvatarTemplate:i,openedRoom:s,sidebarViewMode:d}=t;if("string"==typeof a){const e=V[a];return e?u.createElement(e,{"aria-level":"1"}):u.createElement(l.Section.Title,{"aria-level":"1"},o(a))}return(u.createElement(H,{sidebarViewMode:d,selected:a.rid===s,t:o,room:a,extended:n,SideBarItemTemplate:r,AvatarTemplate:i}))}),L=(e,t)=>{if(e.msg)return B(f(e.msg));if(e.attachments){const a=e.attachments.find(e=>e.title||e.description);return a&&a.description?B(a.description):a&&a.title?B(a.title):t("Sent_an_attachment")}},P=m((e,t)=>u.createElement(O,n({},e,{ref:t,renderView:e=>{let{style:t}=e,a=r(e,["style"]);return(u.createElement("div",n({},a,{className:"teste",style:o(o({},t),{},{overflowX:"hidden"})})))},renderTrackHorizontal:e=>u.createElement("div",n({},e,{style:{display:"none"},className:"track-horizontal"}))})));a.exportDefault(()=>{_();const e=c(),{ref:t}=d({debounceDelay:100}),a=M("openedRoom"),n=b("sidebarViewMode"),o=w(),r=E(),l="extended"===n,s=!T(),m=S(),k=A(),f=z(l,m,o,r,a,n,s);return h(t),I(t),p(()=>{var t;null===(t=e.current)||void 0===t||t.resetAfterIndex(0)},[n]),u.createElement(i,{h:"full",w:"full",ref:t},u.createElement(v,{totalCount:k.length,data:k,components:{Scroller:P},itemContent:(e,t)=>u.createElement(D,{data:f,item:t})}))});const N=(e,t,a)=>{var n,o;return t?t.u?(null===(n=t.u)||void 0===n?void 0:n.username)===(null===(o=e.u)||void 0===o?void 0:o.username)?"".concat(a("You"),": ").concat(L(t,a)):"d"===e.t&&e.uids&&e.uids.length<=2?L(t,a):"".concat(t.u.name||t.u.username,": ").concat(L(t,a)):L(t,a):a("No_messages_yet")},H=u.memo((function e(t){let{room:a,id:n,extended:o,selected:r,SideBarItemTemplate:l,AvatarTemplate:i,t:d,style:m,sidebarViewMode:c,isAnonymous:p}=t;const v=g.getRoomName(a.t,a),k=u.createElement(U,{room:a,small:"medium"!==c}),h=g.getRouteLink(a.t,a),{lastMessage:f,hideUnreadStatus:S,unread:b=0,alert:T,userMentions:M,groupMentions:x,tunread:w=[],tunreadUser:I=[],rid:E,t:A,cl:R}=a,_="queued"===a.status,B=w.length>0,O=o&&N(a,f,d),V=O?u.createElement("span",{className:"message-body--unstyled",dangerouslySetInnerHTML:{__html:O}}):null,C=(M||I.length?"danger":B&&"primary")||x&&"warning"||"ghost",z=b>0||B?u.createElement(s,{style:{flexShrink:0},variant:C},b+(null==w?void 0:w.length)):null;return u.createElement(l,{is:"a",id:n,"data-qa":"sidebar-item","aria-level":"2",unread:!S&&(T||b),threadUnread:B,selected:r,href:h,"aria-label":v,title:v,time:null==f?void 0:f.ts,subtitle:V,icon:k,style:m,badges:z,avatar:i&&u.createElement(i,a),menu:!p&&!_&&(()=>u.createElement(y,{alert:T,threadUnread:B,rid:E,unread:!!b,roomOpen:!1,type:A,cl:R,name:v,status:a.status}))})}),(e,t)=>{var a,n,o,r,l,i,s,d;return!["id","style","extended","selected","SideBarItemTemplate","AvatarTemplate","t","sidebarViewMode"].some(a=>e[a]!==t[a])&&(e.room===t.room||e.room._id===t.room._id&&((null===(a=e.room._updatedAt)||void 0===a?void 0:a.toISOString())===(null===(n=t.room._updatedAt)||void 0===n?void 0:n.toISOString())&&((null===(o=e.room.lastMessage)||void 0===o?void 0:null===(r=o._updatedAt)||void 0===r?void 0:r.toISOString())===(null===(l=t.room.lastMessage)||void 0===l?void 0:null===(i=l._updatedAt)||void 0===i?void 0:i.toISOString())&&(e.room.alert===t.room.alert&&(null===(s=e.room.v)||void 0===s?void 0:s.status)===(null===(d=t.room.v)||void 0===d?void 0:d.status)))))})}


function module(e,t,a){let n,o,l,i,r,s,c,u,m,d,g,x,p,b,k,f,h,y,M,v,C;a.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),a.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){o=e}},1),a.link("@babel/runtime/helpers/objectSpread2",{default(e){l=e}},2),a.link("@rocket.chat/fuselage",{Option(e){i=e},Menu(e){r=e}},0),a.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){s=e}},1),a.link("react",{default(e){c=e},useMemo(e){u=e}},2),a.link("../contexts/TranslationContext",{useTranslation(e){m=e}},3),a.link("../contexts/SettingsContext",{useSetting(e){d=e}},4),a.link("../contexts/RouterContext",{useRoute(e){g=e}},5),a.link("../../app/ui-utils/client/lib/RoomManager",{RoomManager(e){x=e}},6),a.link("../contexts/ServerContext",{useMethod(e){p=e}},7),a.link("../../app/utils",{roomTypes(e){b=e},UiTextContext(e){k=e}},8),a.link("../contexts/ToastMessagesContext",{useToastMessageDispatch(e){f=e}},9),a.link("../contexts/UserContext",{useUserSubscription(e){h=e}},10),a.link("../contexts/AuthorizationContext",{usePermission(e){y=e}},11),a.link("../contexts/ModalContext",{useSetModal(e){M=e}},12),a.link("../views/admin/apps/WarningModal",{default(e){v=e}},13),a.link("../components/DeleteWarningModal",{DeleteWarningModalDoNotAskAgain(e){C=e}},14);const R={f:1,t:1,name:1},T=c.memo(e=>{let{rid:t,unread:a,threadUnread:T,alert:_,roomOpen:A,type:E,cl:U,name:w=""}=e;const D=m(),S=f(),W=M(),I=s(()=>W()),N=g("home"),F=h(t,R),H=d("Favorite_Rooms"),L=null!=(null!=F?F.f:void 0)&&F.f,j=p("hideRoom"),G=p("readMessages"),O=p("unreadMessages"),P=p("toggleFavorite"),z=p("leaveRoom"),V=_||a||T,Y=y("leave-c"),q=y("leave-p"),B=(()=>!("c"===E&&!Y)&&(!("p"===E&&!q)&&!(null!=U&&!U||["d","l"].includes(E))))(),J=s(()=>{const e=async()=>{try{await z(t),A&&N.push({}),x.close(t)}catch(e){S({type:"error",message:e})}I()},a=b.getConfig(E).getUiText(k.LEAVE_WARNING);W(c.createElement(v,{text:D(a,w),confirmText:D("Leave_room"),close:I,cancel:I,cancelText:D("Cancel"),confirm:e}))}),K=s(async()=>{const e=async()=>{try{await j(t)}catch(e){S({type:"error",message:e})}I()},a=b.getConfig(E).getUiText(k.HIDE_WARNING);W(c.createElement(C,{deleteText:D("Yes_hide_it"),onCancel:I,cancelText:D("Cancel"),confirm:e,dontAskAgain:{action:"hideRoom",label:D("Hide_room")}},D(a,w)))}),Q=s(async()=>{try{if(V)return void(await G(t));if(await O(null,t),null==F)return;x.close(F.t+F.name),N.push({})}catch(e){S({type:"error",message:e})}}),X=s(async()=>{try{await P(t,!L)}catch(e){S({type:"error",message:e})}}),Z=u(()=>l(l({hideRoom:{label:{label:D("Hide"),icon:"eye-off"},action:K},toggleRead:{label:{label:D(V?"Mark_read":"Mark_unread"),icon:"flag"},action:Q}},H&&{toggleFavorite:{label:{label:D(L?"Unfavorite":"Favorite"),icon:L?"star-filled":"star"},action:X}}),B&&{leaveRoom:{label:{label:D("Leave_room"),icon:"sign-out"},action:J}}),[D,K,V,Q,H,L,X,B,J]);return c.createElement(r,{"rcx-sidebar-item__menu":!0,mini:!0,"aria-keyshortcuts":"alt",tabIndex:-1,options:Z,renderItem:e=>{let{label:{label:t,icon:a}}=e,l=o(e,["label"]);return(c.createElement(i,n({label:t,title:t,icon:a},l)))}})});a.exportDefault(T)}


function module(e,t,n){let l,a,c,r,o,s,u,i,m,E,d,h,k,f,p,b,g,F,C,v,x,_,N;function S(){const e=c(["\n\tword-break: break-word;\n"]);return S=function(){return e},e}n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},0),n.link("@babel/runtime/helpers/extends",{default(e){a=e}},1),n.link("@babel/runtime/helpers/taggedTemplateLiteral",{default(e){c=e}},2),n.export({ContactInfo:()=>A}),n.link("react",{default(e){r=e},useEffect(e){o=e},useState(e){s=e}},0),n.link("@rocket.chat/fuselage",{Box(e){u=e},Margins(e){i=e},ButtonGroup(e){m=e},Button(e){E=e},Icon(e){d=e}},1),n.link("@rocket.chat/css-in-js",{css(e){h=e}},2),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){k=e}},3),n.link("../../components/VerticalBar",{default(e){f=e}},4),n.link("../../components/UserCard",{default(e){p=e}},5),n.link("./Skeleton",{FormSkeleton(e){b=e}},6),n.link("../../hooks/useEndpointData",{useEndpointData(e){g=e}},7),n.link("../../contexts/TranslationContext",{useTranslation(e){F=e}},8),n.link("../../contexts/RouterContext",{useRoute(e){C=e}},9),n.link("../../../app/authorization",{hasPermission(e){v=e}},10),n.link("../../hooks/useFormatDate",{useFormatDate(e){x=e}},11),n.link("../../hooks/useAsyncState",{AsyncStatePhase(e){_=e}},12),n.link("../../../ee/client/omnichannel/ContactManager",{ContactManagerInfo(e){N=e}},13);const D=h(S()),I=e=>r.createElement(u,a({fontScale:"p2",color:"default"},e)),y=e=>{let{className:t}=e,n=l(e,["className"]);return(r.createElement(p.Info,a({className:[t,D],flexShrink:0},n)))},M=e=>{let{id:t,value:n}=e;const l=F(),{value:a,phase:c,error:o}=g("livechat/custom-fields/".concat(t));if(c===_.LOADING)return r.createElement(b,null);if(o||!a||!a.customField)return r.createElement(u,{mbs:"x16"},l("Custom_Field_Not_Found"));const{label:s}=a.customField;return s&&r.createElement(u,null,r.createElement(I,null,s),r.createElement(y,null,n))};function A(e){let{id:t}=e;const n=F(),l=C("omnichannel-directory"),{value:a,phase:c}=g("livechat/custom-fields"),[h,p]=s([]),S=x(),D=()=>v("view-livechat-room-customfields"),A=k(()=>l.push({tab:"contacts",context:"edit",id:t}));o(()=>{if(a){const{customFields:e}=a;p(e)}},[a,c]);const{value:B,phase:L,error:P}=g("omnichannel/contact?contactId=".concat(t)),{contact:{name:j,username:w,visitorEmails:G,phone:O,livechatData:T,ts:z,lastChat:R,contactManager:U}}=B||{contact:{}};if(L===_.LOADING)return r.createElement(b,null);if(P||!B||!B.contact)return r.createElement(u,{mbs:"x16"},n("Contact_not_found"));const V=e=>{const t=h.find(t=>{let{_id:n}=t;return n===e});return!(!t||"visible"!==t.visibility||"visitor"!==t.scope)};return(r.createElement(r.Fragment,null,r.createElement(f.ScrollableContent,{p:"x24"},r.createElement(i,{block:"x4"},w&&w!==j&&r.createElement(r.Fragment,null,r.createElement(I,null,"".concat(n("Name")," / ").concat(n("Username"))),r.createElement(y,null,"".concat(j,"/").concat(w))),G&&G.length&&r.createElement(r.Fragment,null,r.createElement(I,null,n("Email")),r.createElement(y,null,G[0].address)),O&&O.length&&r.createElement(r.Fragment,null,r.createElement(I,null,n("Phone")),r.createElement(y,null,O[0].phoneNumber)),z&&r.createElement(r.Fragment,null,r.createElement(I,null,n("Created_at")),r.createElement(y,null,S(z))),R&&r.createElement(r.Fragment,null,r.createElement(I,null,n("Last_Chat")),r.createElement(y,null,S(R.ts))),D()&&T&&Object.keys(T).map(e=>V(e)&&T[e]&&r.createElement(M,{key:e,id:e,value:T[e]})),U&&r.createElement(r.Fragment,null,r.createElement(I,null,n("Contact_Manager")),r.createElement(N,{username:U.username})))),r.createElement(f.Footer,null,r.createElement(m,{stretch:!0},r.createElement(E,{onClick:A},r.createElement(d,{name:"pencil",size:"x20"})," ",n("Edit"))))))}}


function module(e,t,i){let n,r,o,s,c,l,a,d,u,g,v,S,h;i.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),i.link("meteor/tracker",{Tracker(e){r=e}},0),i.link("react",{default(e){o=e},useCallback(e){s=e},useEffect(e){c=e},useMemo(e){l=e},useState(e){a=e}},1),i.link("../contexts/ServerContext",{useMethod(e){d=e}},2),i.link("../contexts/SettingsContext",{SettingsContext(e){u=e}},3),i.link("../lib/settings/PrivateSettingsCachedCollection",{PrivateSettingsCachedCollection(e){g=e}},4),i.link("../lib/settings/PublicSettingsCachedCollection",{PublicSettingsCachedCollection(e){v=e}},5),i.link("../contexts/AuthorizationContext",{useAtLeastOnePermission(e){S=e}},6),i.link("./createReactiveSubscriptionFactory",{createReactiveSubscriptionFactory(e){h=e}},7);const C=e=>{let{children:t,privileged:i=!1}=e;const C=S(l(()=>["view-privileged-setting","edit-privileged-setting","manage-selected-settings"],[])),k=i&&C,p=l(()=>k?g.get():v.get(),[k]),[b,y]=a(()=>r.nonreactive(()=>!p.ready.get()));c(()=>{let e=!0;const t=async()=>{r.nonreactive(()=>p.ready.get())||await p.init(),e&&y(!1)};return t(),()=>{e=!1}},[p]);const f=l(()=>h(e=>n({},p.collection.findOne(e))),[p]),x=l(()=>h((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.collection.find(n(n(n(n({},"_id"in e&&Array.isArray(e._id)&&{_id:{$in:e._id}}),"_id"in e&&!Array.isArray(e._id)&&{_id:e._id}),"group"in e&&{group:e.group}),"section"in e&&(e.section?{section:e.section}:{$or:[{section:{$exists:!1}},{section:null}]})),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()})),[p]),_=d("saveSettings"),m=s(e=>_(e),[_]),A=l(()=>({hasPrivateAccess:k,isLoading:b,querySetting:f,querySettings:x,dispatch:m}),[k,b,f,x,m]);return o.createElement(u.Provider,{children:t,value:A})};i.exportDefault(C)}


function module(e,t,i){let n,o,a,l,c,s,r,u,f,m,_,d,N,E,p,k,h,b,D;i.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),i.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){o=e}},1),i.link("react",{default(e){a=e},useCallback(e){l=e},useEffect(e){c=e},useState(e){s=e},useMemo(e){r=e}},0),i.link("@rocket.chat/fuselage",{Accordion(e){u=e},Field(e){f=e},Select(e){m=e},FieldGroup(e){_=e},ToggleSwitch(e){d=e},Button(e){N=e},Box(e){E=e}},1),i.link("../../../../app/ui",{KonchatNotification(e){p=e}},2),i.link("../../../contexts/TranslationContext",{useTranslation(e){k=e}},3),i.link("../../../contexts/UserContext",{useUserPreference(e){h=e}},4),i.link("../../../hooks/useForm",{useForm(e){b=e}},5),i.link("../../../contexts/SettingsContext",{useSetting(e){D=e}},6);const g={all:"All_messages",mentions:"Mentions",nothing:"Nothing"},w={mentions:"Email_Notification_Mode_All",nothing:"Email_Notification_Mode_Disabled"},C=e=>{let{onChange:t,commitRef:i}=e,C=o(e,["onChange","commitRef"]);const x=k(),[R,M]=s(),A=h("desktopNotificationRequireInteraction"),y=h("desktopNotifications"),F=h("mobileNotifications"),v=h("emailNotificationMode"),q=h("audioNotifications"),I=D("Accounts_Default_User_Preferences_desktopNotifications"),L=D("Accounts_Default_User_Preferences_audioNotifications"),P=D("Accounts_Default_User_Preferences_mobileNotifications"),T=D("Accounts_AllowEmailNotifications"),{values:S,handlers:U,commit:j}=b({desktopNotificationRequireInteraction:A,desktopNotifications:y,mobileNotifications:F,emailNotificationMode:v,audioNotifications:q},t),{desktopNotificationRequireInteraction:B,desktopNotifications:O,mobileNotifications:G,emailNotificationMode:H,audioNotifications:K}=S,{handleDesktopNotificationRequireInteraction:W,handleDesktopNotifications:Y,handleMobileNotifications:z,handleEmailNotificationMode:J,handleAudioNotifications:Q}=U;c(()=>M(window.Notification&&Notification.permission),[]),i.current.notifications=j;const V=l(()=>{p.notify({payload:{sender:{username:"rocket.cat"}},title:x("Desktop_Notification_Test"),text:x("This_is_a_desktop_notification")})},[x]),X=l(()=>{window.Notification&&Notification.requestPermission().then(e=>M(e))},[]),Z=r(()=>Object.entries(g).map(e=>{let[t,i]=e;return[t,x(i)]}),[x]),$=r(()=>{const e=Z.slice();return e.unshift(["default","".concat(x("Default")," (").concat(x(g[I]),")")]),e},[I,Z,x]),ee=r(()=>{const e=Z.slice();return e.unshift(["default","".concat(x("Default")," (").concat(x(g[L]),")")]),e},[L,Z,x]),te=r(()=>{const e=Z.slice();return e.unshift(["default","".concat(x("Default")," (").concat(x(g[P]),")")]),e},[P,Z,x]),ie=r(()=>{const e=Object.entries(w).map(e=>{let[t,i]=e;return[t,x(i)]});return e.unshift(["default","".concat(x("Default")," (").concat(x(w[v]),")")]),e},[x,v]);return a.createElement(u.Item,n({title:x("Notifications")},C),a.createElement(_,null,a.createElement(f,null,a.createElement(f.Label,null,x("Desktop_Notifications")),a.createElement(f.Row,null,"denied"===R&&x("Desktop_Notifications_Disabled"),"granted"===R&&a.createElement(a.Fragment,null,a.createElement(N,{primary:!0,onClick:V},x("Test_Desktop_Notifications"))),"denied"!==R&&"granted"!==R&&a.createElement(a.Fragment,null,a.createElement(N,{primary:!0,onClick:X},x("Enable_Desktop_Notifications"))))),a.createElement(f,null,a.createElement(E,{display:"flex",flexDirection:"row",justifyContent:"spaceBetween",flexGrow:1},a.createElement(f.Label,null,x("Notification_RequireInteraction")),a.createElement(f.Row,null,a.createElement(d,{checked:B,onChange:W}))),a.createElement(f.Hint,null,x("Only_works_with_chrome_version_greater_50"))),a.createElement(f,null,a.createElement(f.Label,null,x("Notification_Desktop_Default_For")),a.createElement(f.Row,null,a.createElement(m,{value:O,onChange:Y,options:$}))),a.createElement(f,null,a.createElement(f.Label,null,x("Notification_Desktop_Audio_Default_For")),a.createElement(f.Row,null,a.createElement(m,{value:K,onChange:Q,options:ee}))),a.createElement(f,null,a.createElement(f.Label,null,x("Notification_Mobile_Default_For")),a.createElement(f.Row,null,a.createElement(m,{value:G,onChange:z,options:te}))),a.createElement(f,null,a.createElement(f.Label,null,x("Email_Notification_Mode")),a.createElement(f.Row,null,a.createElement(m,{disabled:!T,value:H,onChange:J,options:ie})),a.createElement(f.Hint,null,T&&x("You_need_to_verifiy_your_email_address_to_get_notications"),!T&&x("Email_Notifications_Change_Disabled")))))};i.exportDefault(C)}


function module(e,t,n){let a,o,l,r,s,i,d,c,u,m,x,p,D,_,E,w;n.link("@babel/runtime/helpers/extends",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){o=e}},1),n.link("react",{default(e){l=e},useCallback(e){r=e}},0),n.link("@rocket.chat/fuselage",{Accordion(e){s=e},Field(e){i=e},FieldGroup(e){d=e},ButtonGroup(e){c=e},Button(e){u=e},Icon(e){m=e},Box(e){x=e}},1),n.link("../../../contexts/TranslationContext",{useTranslation(e){p=e}},2),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){D=e}},3),n.link("../../../contexts/ServerContext",{useMethod(e){_=e}},4),n.link("../../../contexts/ModalContext",{useSetModal(e){E=e}},5),n.link("./MyDataModal",{default(e){w=e}},6);const k=e=>{let{onChange:t}=e,n=o(e,["onChange"]);const k=p(),C=E(),M=_("requestDataDownload"),f=D(),h=r(()=>C(null),[C]),g=r(async e=>{try{const t=await M({fullExport:e});if(t.requested){const e=k("UserDataDownload_Requested_Text",{pending_operations:t.pendingOperationsBeforeMyRequest});return void C(l.createElement(w,{title:k("UserDataDownload_Requested"),text:l.createElement(x,{dangerouslySetInnerHTML:{__html:e}}),onCancel:h}))}if(t.exportOperation){if("completed"===t.exportOperation.status){const e=t.url?k("UserDataDownload_CompletedRequestExistedWithLink_Text",{download_link:t.url}):k("UserDataDownload_CompletedRequestExisted_Text");return void C(l.createElement(w,{title:k("UserDataDownload_Requested"),text:l.createElement(x,{dangerouslySetInnerHTML:{__html:e}}),onCancel:h}))}const e=k("UserDataDownload_RequestExisted_Text",{pending_operations:t.pendingOperationsBeforeMyRequest});return void C(l.createElement(w,{title:k("UserDataDownload_Requested"),text:l.createElement(x,{dangerouslySetInnerHTML:{__html:e}}),onCancel:h}))}C(l.createElement(w,{title:k("UserDataDownload_Requested"),onCancel:h}))}catch(t){f({type:"error",message:t})}},[h,f,M,C,k]),q=r(()=>g(!1),[g]),y=r(()=>g(!0),[g]);return l.createElement(s.Item,a({title:k("My Data")},n),l.createElement(d,null,l.createElement(i,null,l.createElement(i.Row,null,l.createElement(c,{stretch:!0,flexGrow:1},l.createElement(u,{onClick:q},l.createElement(m,{name:"download",size:20}),k("Download_My_Data")),l.createElement(u,{onClick:y},l.createElement(m,{name:"download",size:20}),k("Export_My_Data")))))))};n.exportDefault(k)}


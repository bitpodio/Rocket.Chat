function module(e,t,n){let s,o,a,r,l,c,i,u,k,_,m,d,T,f,x;n.link("@babel/runtime/helpers/extends",{default(e){s=e}},0),n.link("@rocket.chat/fuselage",{Box(e){o=e}},0),n.link("react",{default(e){a=e},useMemo(e){r=e},useCallback(e){l=e},useState(e){c=e}},1),n.link("../../../components/GenericTable",{default(e){i=e}},2),n.link("../../../contexts/ServerContext",{useMethod(e){u=e}},3),n.link("../../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint(e){k=e}},4),n.link("../../../contexts/ModalContext",{useSetModal(e){_=e}},5),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){m=e}},6),n.link("../../../contexts/TranslationContext",{useTranslation(e){d=e}},7),n.link("../../../contexts/UserContext",{useUserId(e){T=e}},8),n.link("./InfoModal",{default(e){f=e}},9),n.link("./AccountTokensRow",{default(e){x=e}},10);const A=e=>{let{data:t,reload:n}=e;const A=d(),C=m(),P=_(),y=T(),g=u("personalAccessTokens:regenerateToken"),I=u("personalAccessTokens:removeToken"),[p,h]=k([600],200),[E,M]=c({current:0,itemsPerPage:25}),R=t&&t.success?t.tokens.length:0,{current:H,itemsPerPage:v}=E,b=r(()=>{if(!t)return null;if(!t.success)return[];const e=H>R?R-v:H;return t.tokens.slice(e,e+v)},[H,t,v,R]),w=l(()=>P(null),[P]),B=r(()=>[a.createElement(i.HeaderCell,{key:"name"},A("API_Personal_Access_Token_Name")),h&&a.createElement(i.HeaderCell,{key:"createdAt"},A("Created_at")),a.createElement(i.HeaderCell,{key:"lastTokenPart"},A("Last_token_part")),a.createElement(i.HeaderCell,{key:"2fa"},A("Two Factor Authentication")),a.createElement(i.HeaderCell,{key:"actions"})].filter(Boolean),[h,A]),S=l(e=>{const t=async()=>{try{P(null);const t=await g({tokenName:e});P(a.createElement(f,{title:A("API_Personal_Access_Token_Generated"),content:a.createElement(o,{dangerouslySetInnerHTML:{__html:A("API_Personal_Access_Token_Generated_Text_Token_s_UserId_s",{token:t,userId:y})}}),confirmText:A("ok"),onConfirm:w})),n()}catch(t){P(null),C({type:"error",message:t})}};P(a.createElement(f,{title:A("Are_you_sure"),content:A("API_Personal_Access_Tokens_Regenerate_Modal"),confirmText:A("API_Personal_Access_Tokens_Regenerate_It"),onConfirm:t,cancelText:A("Cancel"),onClose:w}))},[w,C,g,n,P,A,y]),G=l(e=>{const t=async()=>{try{await I({tokenName:e}),C({type:"success",message:A("Removed")}),n(),w()}catch(t){C({type:"error",message:t})}};P(a.createElement(f,{title:A("Are_you_sure"),content:A("API_Personal_Access_Tokens_Remove_Modal"),confirmText:A("Yes"),onConfirm:t,cancelText:A("Cancel"),onClose:w}))},[w,C,n,I,P,A]);return a.createElement(i,{ref:p,header:B,results:b,total:R,setParams:M,params:E},l(e=>a.createElement(x,s({onRegenerate:S,onRemove:G,isMedium:h},e)),[h,S,G]))};n.exportDefault(A)}


function module(e,t,a){let n,l,s,r,o,c,i,u,m,d,p,h,k,E,g,v,f,x;a.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),a.link("react",{default(e){l=e}},0),a.link("@rocket.chat/fuselage",{Callout(e){s=e},ButtonGroup(e){r=e},Button(e){o=e},Box(e){c=e}},1),a.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){i=e}},2),a.link("../../../contexts/TranslationContext",{useTranslation(e){u=e}},3),a.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){m=e}},4),a.link("../../../contexts/AuthorizationContext",{usePermission(e){d=e}},5),a.link("../../../contexts/ServerContext",{useMethod(e){p=e}},6),a.link("../../../hooks/useForm",{useForm(e){h=e}},7),a.link("../../../components/Page",{default(e){k=e}},8),a.link("./AppearanceForm",{default(e){E=e}},9),a.link("../../../components/PageSkeleton",{default(e){g=e}},10),a.link("../../../components/NotAuthorizedPage",{default(e){v=e}},11),a.link("../../../hooks/useEndpointData",{useEndpointData(e){f=e}},12),a.link("../../../hooks/useAsyncState",{AsyncStatePhase(e){x=e}},13);const C=e=>e.reduce((e,t)=>{let{_id:a,value:l}=t;return e=n(n({},e),{},{[a]:l})},{}),S=()=>{const e=u(),{value:t,phase:a,error:n}=f("livechat/appearance"),r=d("view-livechat-appearance");return r?a===x.LOADING?l.createElement(g,null):t&&t.success&&t.appearance&&!n?l.createElement(b,{settings:t.appearance}):l.createElement(k,null,l.createElement(k.Header,{title:e("Edit_Custom_Field")}),l.createElement(k.ScrollableContentWithShadow,null,l.createElement(s,{type:"danger"},e("Error")))):l.createElement(v,null)},b=e=>{let{settings:t}=e;const a=u(),n=m(),s=p("livechat:saveAppearance"),{values:d,handlers:g,commit:v,reset:f,hasUnsavedChanges:x}=h(C(t)),S=i(async()=>{const e=Object.entries(d).map(e=>{let[t,a]=e;return{_id:t,value:a}});try{await s(e),n({type:"success",message:a("Settings_updated")}),v()}catch(t){n({type:"success",message:t})}}),b=()=>{f()};return l.createElement(k,null,l.createElement(k.Header,{title:a("Appearance")},l.createElement(r,{align:"end"},l.createElement(o,{onClick:b},a("Reset")),l.createElement(o,{primary:!0,onClick:S,disabled:!x},a("Save")))),l.createElement(k.ScrollableContentWithShadow,null,l.createElement(c,{maxWidth:"x600",w:"full",alignSelf:"center"},l.createElement(E,{values:d,handlers:g}))))};a.exportDefault(S)}


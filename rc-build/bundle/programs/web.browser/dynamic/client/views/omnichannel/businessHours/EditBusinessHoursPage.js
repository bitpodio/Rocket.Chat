function module(e,t,s){let n,a,o,r,u,l,i,c,m,p,d,k,h,E,H,f,b,y,B,g,C;s.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),s.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),s.link("react",{default(e){o=e},useRef(e){r=e},useMemo(e){u=e},useState(e){l=e}},0),s.link("@rocket.chat/fuselage",{Button(e){i=e},ButtonGroup(e){c=e},Callout(e){m=e}},1),s.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){p=e}},2),s.link("./BusinessHoursFormContainer",{default(e){d=e}},3),s.link("../../../components/Page",{default(e){k=e}},4),s.link("../../../components/PageSkeleton",{default(e){h=e}},5),s.link("./BusinessHoursRouter",{useIsSingleBusinessHours(e){E=e}},6),s.link("../../../contexts/RouterContext",{useRoute(e){H=e}},7),s.link("../../../contexts/TranslationContext",{useTranslation(e){f=e}},8),s.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){b=e}},9),s.link("../../../contexts/ServerContext",{useMethod(e){y=e}},10),s.link("./mapBusinessHoursForm",{mapBusinessHoursForm(e){B=e}},11),s.link("../../../hooks/useEndpointData",{useEndpointData(e){g=e}},12),s.link("../../../hooks/useAsyncState",{AsyncStatePhase(e){C=e}},13);const S=e=>{let{id:t,type:s}=e;const S=f(),v=b(),x=E(),{value:D,phase:R}=g("livechat/business-hour",u(()=>({_id:t,type:s}),[t,s])),_=r({form:{}}),[T,w]=l(!1),M=y("livechat:saveBusinessHour"),A=y("livechat:removeBusinessHour"),P=H("omnichannel-businessHours"),j=p(async()=>{if(R!==C.RESOLVED||!D.success)return;const{current:{form:e,multiple:{departments:t}={},timezone:{name:s}={}}}=_,o=a(_.current.multiple,["departments"]);if("default"!==D.businessHour.type&&""===o.name)return v({type:"error",message:S("error-the-field-is-required",{field:S("Name")})});const r=B(e,D.businessHour),u=(null==t?void 0:t.join(","))||"";try{const e=n(n(n({},D.businessHour),o),{},{departmentsToApplyBusinessHour:null!=u?u:"",timezoneName:s||D.businessHour.timezone.name,workHours:r});await M(e),v({type:"success",message:S("Business_hours_updated")}),P.push({})}catch(l){v({type:"error",message:l})}}),z=p(async()=>{if("custom"===s)try{await A(t,s),v({type:"success",message:S("Business_Hour_Removed")}),P.push({})}catch(e){v({type:"error",message:e})}}),F=p(()=>{P.push({})});return R===C.LOADING?o.createElement(h,null):R===C.REJECTED||C.RESOLVED&&!D.businessHour?o.createElement(k,null,o.createElement(k.Header,{title:S("Business_Hours")},o.createElement(i,{onClick:F},S("Back"))),o.createElement(k.ScrollableContentWithShadow,null,o.createElement(m,{type:"danger"},S("Error")))):o.createElement(k,null,o.createElement(k.Header,{title:S("Business_Hours")},o.createElement(c,null,!x&&o.createElement(i,{onClick:F},S("Back")),"custom"===s&&o.createElement(i,{primary:!0,danger:!0,onClick:z},S("Delete")),o.createElement(i,{primary:!0,onClick:j,disabled:!T},S("Save")))),o.createElement(k.ScrollableContentWithShadow,null,o.createElement(d,{data:D.businessHour,saveRef:_,onChange:w})))};s.exportDefault(S)}


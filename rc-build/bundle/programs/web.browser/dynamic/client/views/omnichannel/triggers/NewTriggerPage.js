function module(e,t,n){let a,s,l,o,r,i,c,u,m,d,g,p,k,h,x;n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){s=e}},1),n.link("react",{default(e){l=e},useMemo(e){o=e}},0),n.link("@rocket.chat/fuselage",{Button(e){r=e},FieldGroup(e){i=e},Box(e){c=e},Margins(e){u=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){m=e}},2),n.link("./TriggersForm",{default(e){d=e}},3),n.link("../../../contexts/TranslationContext",{useTranslation(e){g=e}},4),n.link("../../../contexts/ServerContext",{useMethod(e){p=e}},5),n.link("../../../hooks/useForm",{useForm(e){k=e}},6),n.link("../../../contexts/RouterContext",{useRoute(e){h=e}},7),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){x=e}},8);const f=e=>{let{onSave:t}=e;const n=x(),f=g(),b=h("omnichannel-triggers"),v=p("livechat:saveTrigger"),{values:y,handlers:C}=k({name:"",description:"",enabled:!0,runOnce:!1,conditions:{name:"page-url",value:""},actions:{name:"",params:{sender:"queue",msg:"",name:""}}}),E=m(async()=>{try{const{actions:{params:{sender:e,msg:l,name:o}}}=y,r=s(y,["actions"]);await v(a(a({},r),{},{conditions:[y.conditions],actions:[{name:"send-message",params:a({sender:e,msg:l},"custom"===e&&{name:o})}]})),n({type:"success",message:f("Saved")}),t(),b.push({})}catch(e){n({type:"error",message:e})}}),{name:M,actions:{params:{msg:T}}}=y,w=o(()=>M&&T,[M,T]);return l.createElement(l.Fragment,null,l.createElement(i,null,l.createElement(d,{values:y,handlers:C})),l.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},l.createElement(u,{inlineEnd:"x4"},l.createElement(r,{flexGrow:1,primary:!0,onClick:E,disabled:!w},f("Save")))))};n.exportDefault(f)}


function module(e,t,n){let l,a,r,o,s,i,c,u,m,d,g,k,h,E,p,x,C,T,f,D;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.export({TriggersTable:()=>y}),n.link("@rocket.chat/fuselage",{Table(e){a=e},Callout(e){r=e},Icon(e){o=e},Button(e){s=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){i=e}},1),n.link("react",{default(e){c=e},useState(e){u=e},memo(e){m=e},useMemo(e){d=e}},2),n.link("../../../components/GenericTable",{default(e){g=e}},3),n.link("../../../components/DeleteWarningModal",{default(e){k=e}},4),n.link("../../../contexts/RouterContext",{useRoute(e){h=e}},5),n.link("../../../contexts/ModalContext",{useSetModal(e){E=e}},6),n.link("../../../contexts/ServerContext",{useMethod(e){p=e}},7),n.link("../../../contexts/TranslationContext",{useTranslation(e){x=e}},8),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){C=e}},9),n.link("../../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint(e){T=e}},10),n.link("../../../hooks/useEndpointData",{useEndpointData(e){f=e}},11),n.link("../../../hooks/useAsyncState",{AsyncStatePhase(e){D=e}},12);const v=m((function e(t){const{_id:n,name:l,description:r,enabled:u,onDelete:m}=t,d=C(),g=x(),T=E(),f=h("omnichannel-triggers"),D=p("livechat:removeTrigger"),v=i(()=>{f.push({context:"edit",id:n})}),b=i(e=>{["Enter","Space"].includes(e.nativeEvent.code)&&v()}),y=i(e=>{e.stopPropagation();const t=async()=>{try{await D(n),d({type:"success",message:g("Trigger_removed")}),m()}catch(e){d({type:"error",message:e})}T()};T(c.createElement(k,{onDelete:t,onCancel:()=>T()}))});return c.createElement(a.Row,{key:n,role:"link",action:!0,tabIndex:0,onClick:v,onKeyDown:b},c.createElement(a.Cell,{withTruncatedText:!0},l),c.createElement(a.Cell,{withTruncatedText:!0},r),c.createElement(a.Cell,{withTruncatedText:!0},g(u?"Yes":"No")),c.createElement(a.Cell,{withTruncatedText:!0},c.createElement(s,{small:!0,ghost:!0,title:g("Remove"),onClick:y},c.createElement(o,{name:"trash",size:"x16"}))))})),b=e=>{let{reloadRef:t}=e;const n=x(),[l,a]=u(()=>({current:0,itemsPerPage:25})),{current:o,itemsPerPage:s}=l,{value:i,phase:m,reload:g}=f("livechat/triggers",d(()=>({offset:o,count:s}),[o,s]));return t.current=g,m===D.REJECTED?c.createElement(r,null,n("Error"),": error"):c.createElement(y,{triggers:null==i?void 0:i.triggers,totalTriggers:null==i?void 0:i.total,params:l,onChangeParams:a,onDelete:g})};function y(e){let{triggers:t,totalTriggers:n,params:a,onChangeParams:r,onDelete:o}=e;const s=x(),[i,u]=T([600],200);return c.createElement(g,{ref:i,header:c.createElement(c.Fragment,null,c.createElement(g.HeaderCell,null,s("Name")),c.createElement(g.HeaderCell,null,s("Description")),c.createElement(g.HeaderCell,null,s("Enabled")),c.createElement(g.HeaderCell,{width:"x60"},s("Remove"))),results:t,total:n,params:a,setParams:r},e=>c.createElement(v,l({key:e._id,onDelete:o,medium:u},e)))}n.exportDefault(b)}


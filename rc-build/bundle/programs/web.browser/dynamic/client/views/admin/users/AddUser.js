function module(e,l,t){let s,n,a,r,i,o,u,d,c,m,f,h,k,p,b,v,_;function w(e){let{roles:l}=e,t=a(e,["roles"]);const w=h(),x=b("admin-users"),{value:E}=k("roles.list",""),[C,g]=u({}),T={name:e=>g(l=>n(n({},l),{},{name:e.trim().length?void 0:w("The_field_is_required",w("name"))})),username:e=>g(l=>n(n({},l),{},{username:e.trim().length?void 0:w("The_field_is_required",w("username"))})),email:e=>g(l=>n(n({},l),{},{email:e.trim().length?void 0:w("The_field_is_required",w("email"))})),password:e=>g(l=>n(n({},l),{},{password:e.trim().length?void 0:w("The_field_is_required",w("password"))}))},y=e=>{let{key:l,value:t}=e;T[l]&&T[l](t)},{values:j,handlers:q,reset:F,hasUnsavedChanges:R}=v({roles:[],name:"",username:"",statusText:"",bio:"",nickname:"",email:"",password:"",verified:!1,requirePasswordChange:!1,setRandomPassword:!1,sendWelcomeEmail:!0,joinDefaultChannels:!0,customFields:{}},y),D=o(e=>x.push({context:"info",id:e}),[x]),P=p("POST","users.create",j,w("User_created_successfully!")),S=f(async()=>{Object.entries(j).forEach(e=>{let[l,t]=e;y({key:l,value:t})});const{name:e,username:l,password:t,email:s}=j;if(""===e||""===l||""===t||""===s)return!1;const n=await P();n.success&&D(n.user._id)}),U=i(()=>{var e,l;return null!==(e=null==E?void 0:null===(l=E.roles)||void 0===l?void 0:l.map(e=>{let{_id:l,description:t}=e;return[l,t||l]}))&&void 0!==e?e:[]},[E]),A=i(()=>r.createElement(d,null,r.createElement(d.Row,null,r.createElement(c,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},r.createElement(m,{flexGrow:1,disabled:!R,onClick:F,mie:"x4"},w("Cancel")),r.createElement(m,{flexGrow:1,disabled:!R,onClick:S},w("Save"))))),[R,F,w,S]);return r.createElement(_,s({errors:C,formValues:j,formHandlers:q,availableRoles:U,append:A},t))}t.link("@babel/runtime/helpers/extends",{default(e){s=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},2),t.export({AddUser:()=>w}),t.link("react",{default(e){r=e},useMemo(e){i=e},useCallback(e){o=e},useState(e){u=e}},0),t.link("@rocket.chat/fuselage",{Field(e){d=e},Box(e){c=e},Button(e){m=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){f=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation(e){h=e}},3),t.link("../../../hooks/useEndpointData",{useEndpointData(e){k=e}},4),t.link("../../../hooks/useEndpointAction",{useEndpointAction(e){p=e}},5),t.link("../../../contexts/RouterContext",{useRoute(e){b=e}},6),t.link("../../../hooks/useForm",{useForm(e){v=e}},7),t.link("./UserForm",{default(e){_=e}},8)}


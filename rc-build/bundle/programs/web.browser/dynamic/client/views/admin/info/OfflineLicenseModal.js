function module(e,t,l){let n,a,o,c,r,i,s,u,d,m,p,f,C,E,k;l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){n=e}},0),l.link("@rocket.chat/fuselage",{Modal(e){a=e},Box(e){o=e},ButtonGroup(e){c=e},Button(e){r=e},Scrollable(e){i=e},Callout(e){s=e},Margins(e){u=e},Icon(e){d=e}},0),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){m=e}},1),l.link("react",{default(e){p=e},useState(e){f=e}},2),l.link("../../../contexts/TranslationContext",{useTranslation(e){C=e}},3),l.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){E=e}},4),l.link("../../../hooks/useEndpointAction",{useEndpointActionExperimental(e){k=e}},5);const h=e=>{let{onClose:t,license:l,licenseStatus:h}=e,g=n(e,["onClose","license","licenseStatus"]);const x=C(),b=E(),[_,y]=f(l),[v,T]=f(!1),[S,w]=f(h),[M,P]=f(l),A=e=>{y(e.currentTarget.value)},B=M!==_,I=k("POST","licenses.add",x("Cloud_License_applied_successfully")),D=m(async()=>{try{const e=await navigator.clipboard.readText();y(e)}catch(e){b({type:"error",message:"".concat(x("Paste_error"),": ").concat(e)})}}),z=m(async()=>{T(!0),P(_);const e=await I({license:_});e.success?t():(T(!1),w("invalid"))});return p.createElement(a,g,p.createElement(a.Header,null,p.createElement(a.Title,null,x("Cloud_Apply_Offline_License")),p.createElement(a.Close,{onClick:t})),p.createElement(a.Content,null,p.createElement(o,{withRichContent:!0},p.createElement("p",null,x("Cloud_register_offline_finish_helper"))),p.createElement(o,{display:"flex",flexDirection:"column",alignItems:"stretch",paddingInline:"x16",pb:"x8",flexGrow:1,backgroundColor:"neutral-800",mb:"invalid"===S&&"x8"},p.createElement(u,{block:"x8"},p.createElement(i,{vertical:!0},p.createElement(o,{is:"textarea",height:"x108",fontFamily:"mono",fontScale:"p1",color:"alternative",style:{wordBreak:"break-all",resize:"none"},placeholder:x("Paste_here"),disabled:v,value:_,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onChange:A})),p.createElement(c,{align:"start"},p.createElement(r,{primary:!0,small:!0,disabled:v,onClick:D},p.createElement(d,{name:"clipboard"}),x("Paste"))))),"invalid"===S&&p.createElement(s,{type:"danger"},x("Cloud_Invalid_license"))),p.createElement(a.Footer,null,p.createElement(c,{align:"end"},p.createElement(r,{primary:!0,disabled:!B||v,onClick:z},x("Cloud_Apply_license")))))};l.exportDefault(h)}


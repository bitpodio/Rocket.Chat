function module(e,t,n){let l,a,r,o,s,c,i,m,u,d,f,p,E,x,h,k,y,C,g,b,w,v,D,R;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),n.export({DEFAULT_TYPES:()=>T,roomTypeI18nMap:()=>S}),n.link("@rocket.chat/fuselage",{Box(e){o=e},Table(e){s=e},Icon(e){c=e},TextInput(e){i=e},Field(e){m=e},CheckBox(e){u=e},Margins(e){d=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMediaQuery(e){f=e},useUniqueId(e){p=e},useDebouncedValue(e){E=e}},1),n.link("react",{default(e){x=e},useMemo(e){h=e},useCallback(e){k=e},useState(e){y=e},useEffect(e){C=e}},2),n.link("../../../components/GenericTable",{default(e){g=e}},3),n.link("../../../contexts/TranslationContext",{useTranslation(e){b=e}},4),n.link("../../../components/avatar/RoomAvatar",{default(e){w=e}},5),n.link("../../../../app/utils/client",{roomTypes(e){v=e}},6),n.link("../../../hooks/useEndpointData",{useEndpointData(e){D=e}},7),n.link("../../../contexts/RouterContext",{useRoute(e){R=e}},8);const F={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},T=["d","p","c"],S={l:"Omnichannel",c:"Channel",d:"Direct",p:"Group",discussion:"Discussion"},P=e=>{let{setFilter:t}=e,n=r(e,["setFilter"]);const[s,f]=y(""),[E,h]=y({d:!1,c:!1,p:!1,l:!1,discussions:!1}),g=b(),w=k(e=>f(e.currentTarget.value),[]),v=k(e=>h(a(a({},E),{},{[e]:!E[e]})),[E]);C(()=>{if(0===Object.values(E).filter(Boolean).length)return t({text:s,types:T});const e=Object.entries(E).filter(e=>{let[,t]=e;return Boolean(t)}).map(e=>{let[t]=e;return t});t({text:s,types:e})},[t,s,E]);const D=p(),R=p(),F=p(),S=p(),P=p();return x.createElement(o,l({mb:"x16",is:"form",onSubmit:k(e=>e.preventDefault(),[]),display:"flex",flexDirection:"column"},n),x.createElement(i,{flexShrink:0,placeholder:g("Search_Rooms"),addon:x.createElement(c,{name:"magnifier",size:"x20"}),onChange:w,value:s}),x.createElement(m,null,x.createElement(o,{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",mbs:"x8",mi:"neg-x8"},x.createElement(d,{inline:"x8"},x.createElement(m.Row,null,x.createElement(u,{checked:E.d,id:D,onChange:()=>v("d")}),x.createElement(m.Label,{htmlFor:D},g("Direct"))),x.createElement(m.Row,null,x.createElement(u,{checked:E.c,id:R,onChange:()=>v("c")}),x.createElement(m.Label,{htmlFor:R},g("Public"))),x.createElement(m.Row,null,x.createElement(u,{checked:E.p,id:F,onChange:()=>v("p")}),x.createElement(m.Label,{htmlFor:F},g("Private"))),x.createElement(m.Row,null,x.createElement(u,{checked:E.l,id:S,onChange:()=>v("l")}),x.createElement(m.Label,{htmlFor:S},g("Omnichannel"))),x.createElement(m.Row,null,x.createElement(u,{checked:E.discussions,id:P,onChange:()=>v("discussions")}),x.createElement(m.Label,{htmlFor:P},g("Discussions")))))))},j=(e,t)=>{let{text:n,types:l,itemsPerPage:r,current:o}=e,[s,c]=t;return h(()=>a(a({filter:n||"",types:l,sort:JSON.stringify({[s]:"asc"===c?1:-1})},r&&{count:r}),o&&{offset:o}),[n,l,r,o,s,c])};function I(){const e=b(),t=f("(min-width: 1024px)"),[n,i]=y({text:"",types:T,current:0,itemsPerPage:25}),[m,u]=y(["name","asc"]),d="admin-rooms",p=E(n,500),C=E(m,500),I=j(p,C),{value:H={}}=D("rooms.adminRooms",I),L=R(d),O=k(e=>()=>L.push({context:"edit",id:e}),[L]),_=k(e=>{const[t,n]=m;u(t!==e?[e,"asc"]:[e,"asc"===n?"desc":"asc"])},[m]);"name"===m[0]&&H.rooms&&(H.rooms=H.rooms.sort((e,t)=>{const n="d"===e.type?e.usernames.join(" x "):v.getRoomName(e.t,e),l="d"===t.type?t.usernames.join(" x "):v.getRoomName(t.t,t);if(n===l)return 0;const a=n<l?-1:1;return"asc"===m[1]?a:-1*a}));const B=h(()=>[x.createElement(g.HeaderCell,{key:"name",direction:m[1],active:"name"===m[0],onClick:_,sort:"name",w:"x200"},e("Name")),x.createElement(g.HeaderCell,{key:"type",direction:m[1],active:"t"===m[0],onClick:_,sort:"t",w:"x100"},e("Type")),x.createElement(g.HeaderCell,{key:"users",direction:m[1],active:"usersCount"===m[0],onClick:_,sort:"usersCount",w:"x80"},e("Users")),t&&x.createElement(g.HeaderCell,{key:"messages",direction:m[1],active:"msgs"===m[0],onClick:_,sort:"msgs",w:"x80"},e("Msgs")),t&&x.createElement(g.HeaderCell,{key:"default",direction:m[1],active:"default"===m[0],onClick:_,sort:"default",w:"x80"},e("Default")),t&&x.createElement(g.HeaderCell,{key:"featured",direction:m[1],active:"featured"===m[0],onClick:_,sort:"featured",w:"x80"},e("Featured"))].filter(Boolean),[m,_,e,t]),M=k(n=>{let{_id:l,name:i,t:m,usersCount:u,msgs:d,default:f,featured:p,usernames:E}=n,h=r(n,["_id","name","t","usersCount","msgs","default","featured","usernames"]);const k=v.getIcon(a({t:m,usernames:E},h)),y="d"===m?E.join(" x "):v.getRoomName(m,a({name:i,type:m,_id:l},h));return x.createElement(s.Row,{action:!0,key:l,onKeyDown:O(l),onClick:O(l),tabIndex:0,role:"link","qa-room-id":l},x.createElement(s.Cell,{style:F},x.createElement(o,{display:"flex",alignContent:"center"},x.createElement(w,{size:t?"x28":"x40",room:a({type:m,name:y,_id:l},h)}),x.createElement(o,{display:"flex",style:F,mi:"x8"},x.createElement(o,{display:"flex",flexDirection:"row",alignSelf:"center",alignItems:"center",style:F},x.createElement(c,{mi:"x2",name:"omnichannel"===k?"livechat":k,fontScale:"p2",color:"hint"}),x.createElement(o,{fontScale:"p2",style:F,color:"default"},y))))),x.createElement(s.Cell,null,x.createElement(o,{color:"hint",fontScale:"p2",style:F},e(S[m])),x.createElement(o,{mi:"x4"})),x.createElement(s.Cell,{style:F},u),t&&x.createElement(s.Cell,{style:F},d),t&&x.createElement(s.Cell,{style:F},e(f?"True":"False")),t&&x.createElement(s.Cell,{style:F},e(p?"True":"False")))},[t,O,e]);return x.createElement(g,{header:B,renderRow:M,results:H.rooms,total:H.total,setParams:i,params:n,renderFilter:e=>{let{onChange:t}=e,n=r(e,["onChange"]);return(x.createElement(P,l({setFilter:t},n)))}})}n.exportDefault(I)}


function module(e,t,s){let r,n,o,a,i,l,u;s.export({default:()=>m}),s.link("react",{default(e){r=e}},0),s.link("../../../contexts/AuthorizationContext",{usePermission(e){n=e}},1),s.link("../../../contexts/ServerContext",{useMethod(e){o=e}},2),s.link("../../../contexts/TranslationContext",{useTranslation(e){a=e}},3),s.link("./Mailer",{Mailer(e){i=e}},4),s.link("../../../components/NotAuthorizedPage",{default(e){l=e}},5),s.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){u=e}},6);const c=()=>{const e=o("Mailer.sendMail"),t=a(),s=u();return r=>{let{fromEmail:n,subject:o,emailBody:a,dryRun:i,query:l}=r;l.error?s({type:"error",message:t("Query_is_not_valid_JSON")}):n.error||n.length<1?s({type:"error",message:t("error-invalid-from-address")}):-1!==a.indexOf("[unsubscribe]")?(e(n.value,o,a,i,l.value),s({type:"success",message:t("The_emails_are_being_sent")})):s({type:"error",message:t("error-missing-unsubscribe-link")})}};function m(){const e=n("access-mailer"),t=c();return e?r.createElement(i,{sendMail:t}):r.createElement(l,null)}}


function module(e,t,a){let l,n,r,o,s,c,i,m,u,d,x,E,f,k,T,h,p,g,b,C;a.link("@babel/runtime/helpers/objectSpread2",{default(e){l=e}},0),a.link("@babel/runtime/helpers/extends",{default(e){n=e}},1),a.export({UsersInRoleTable:()=>w}),a.link("react",{default(e){r=e},useState(e){o=e},useMemo(e){s=e}},0),a.link("@rocket.chat/fuselage",{Box(e){c=e},Table(e){i=e},Button(e){m=e},Icon(e){u=e}},1),a.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){d=e},useDebouncedValue(e){x=e}},2),a.link("../../../lib/getUserEmailAddress",{getUserEmailAddress(e){E=e}},3),a.link("../../../components/avatar/UserAvatar",{default(e){f=e}},4),a.link("../../../components/DeleteWarningModal",{default(e){k=e}},5),a.link("../../../contexts/ServerContext",{useMethod(e){T=e}},6),a.link("../../../components/GenericTable",{default(e){h=e}},7),a.link("../../../contexts/TranslationContext",{useTranslation(e){p=e}},8),a.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){g=e}},9),a.link("../../../contexts/ModalContext",{useSetModal(e){b=e}},10),a.link("../../../hooks/useEndpointData",{useEndpointData(e){C=e}},11);const v=r.memo(e=>{let{_id:t,username:a,name:l,avatarETag:n,emails:o,onRemove:s}=e;const x=E({emails:o}),k=d(()=>{s(a)});return r.createElement(i.Row,{key:t,tabIndex:0,role:"link"},r.createElement(i.Cell,{withTruncatedText:!0},r.createElement(c,{display:"flex",alignItems:"center"},r.createElement(f,{size:"x40",title:a,username:a,etag:n}),r.createElement(c,{display:"flex",withTruncatedText:!0,mi:"x8"},r.createElement(c,{display:"flex",flexDirection:"column",alignSelf:"center",withTruncatedText:!0},r.createElement(c,{fontScale:"p2",withTruncatedText:!0,color:"default"},l||a),l&&r.createElement(c,{fontScale:"p1",color:"hint",withTruncatedText:!0}," ","@".concat(a)," "))))),r.createElement(i.Cell,{withTruncatedText:!0},x),r.createElement(i.Cell,{withTruncatedText:!0},r.createElement(m,{small:!0,square:!0,danger:!0,onClick:k},r.createElement(u,{name:"trash",size:"x20"}))))});function w(e){let{data:t,reload:a,roleName:l,total:o,params:s,setParams:c,rid:i}=e;const m=p(),u=g(),x=b(),E=T("authorization:removeUserFromRole"),f=()=>x(),C=d(e=>{const t=async()=>{try{await E(l,e,i),u({type:"success",message:m("User_removed")})}catch(t){u({type:"erroor",message:t})}f(),a()};x(r.createElement(k,{children:m("The_user_s_will_be_removed_from_role_s",e,l),onCancel:f,onDelete:t}))});return r.createElement(h,{header:r.createElement(r.Fragment,null,r.createElement(h.HeaderCell,null,m("Name")),r.createElement(h.HeaderCell,null,m("Email")),r.createElement(h.HeaderCell,{w:"x80"})),results:t,params:s,setParams:c,total:o},e=>r.createElement(v,n({onRemove:C,key:e._id},e)))}const _=e=>{let{rid:t,roleName:a,reloadRef:n}=e;const[c,i]=o({current:0,itemsPerPage:25}),m=x(c,500),u=s(()=>l(l({roomId:t,role:a},m.itemsPerPage&&{count:m.itemsPerPage}),m.current&&{offset:m.current}),[m,t,a]),{value:d={},reload:E}=C("roles.getUsersInRole",u);n.current=E;const f=(null==d?void 0:d.users)||[];return(r.createElement(w,{data:f,total:null==d?void 0:d.total,reload:E,params:c,setParams:i,roleName:a,rid:t}))};a.exportDefault(_)}


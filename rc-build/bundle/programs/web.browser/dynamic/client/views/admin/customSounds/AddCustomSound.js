function module(e,t,n){let a,l,r,o,s,c,i,u,m,d,p,g,h,f,E,y,k,x;function C(e){let{goToNew:t,close:n,onChange:C}=e,S=a(e,["goToNew","close","onChange"]);const w=h(),b=g(),[T,_]=r(""),[v,F]=r(),M=f("uploadCustomSound"),B=f("insertOrUpdateSound"),D=o(e=>{F(e)},[]),[I]=E(D,"audio/mp3"),N=o(async(e,t)=>{const n=k(t,e),a=y(n,t);if(0===a.length){let e;try{e=await B(n)}catch(l){b({type:"error",message:l})}if(n._id=e,n.random=Math.round(1e3*Math.random()),e){b({type:"success",message:w("Uploading_file")});const e=new FileReader;e.readAsBinaryString(t),e.onloadend=()=>{try{M(e.result,t.type,n),b({type:"success",message:w("File_uploaded")})}catch(l){b({type:"error",message:l})}}}return e}a.forEach(e=>{throw new Error({type:"error",message:w("error-the-field-is-required",{field:w(e)})})})},[b,B,w,M]),R=o(async()=>{try{const e=await N(T,v);b({type:"success",message:w("Custom_Sound_Saved_Successfully")}),t(e)(),C()}catch(e){b({type:"error",message:e})}},[b,t,T,C,N,v,w]);return l.createElement(x.ScrollableContent,S,l.createElement(s,null,l.createElement(s.Label,null,w("Name")),l.createElement(s.Row,null,l.createElement(c,{value:T,onChange:e=>_(e.currentTarget.value),placeholder:w("Name")}))),l.createElement(s,null,l.createElement(s.Label,{alignSelf:"stretch"},w("Sound_File_mp3")),l.createElement(i,{display:"flex",flexDirection:"row",mbs:"none"},l.createElement(m,{inline:"x4"},l.createElement(d,{square:!0,onClick:I},l.createElement(u,{name:"upload",size:"x20"})),v&&v.name||"none"))),l.createElement(s,null,l.createElement(s.Row,null,l.createElement(p,{stretch:!0,w:"full"},l.createElement(d,{mie:"x4",onClick:n},w("Cancel")),l.createElement(d,{primary:!0,onClick:R,disabled:""===T},w("Save"))))))}n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},0),n.link("react",{default(e){l=e},useState(e){r=e},useCallback(e){o=e}},0),n.link("@rocket.chat/fuselage",{Field(e){s=e},TextInput(e){c=e},Box(e){i=e},Icon(e){u=e},Margins(e){m=e},Button(e){d=e},ButtonGroup(e){p=e}},1),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){g=e}},2),n.link("../../../contexts/TranslationContext",{useTranslation(e){h=e}},3),n.link("../../../contexts/ServerContext",{useMethod(e){f=e}},4),n.link("../../../hooks/useFileInput",{useFileInput(e){E=e}},5),n.link("./lib",{validate(e){y=e},createSoundData(e){k=e}},6),n.link("../../../components/VerticalBar",{default(e){x=e}},7),n.exportDefault(C)}


function module(e,t,l){let n,a,r,c,o,i,u,s,m,d,E,p,h,_,b,f,k,x,w,C,g,y,A,v,S,R,L,T,U,I;function D(e){let{_id:t}=e,l=r(e,["_id"]);const n=C(),i=u(()=>({appId:t}),[t]),{value:E,phase:p,error:h,reload:k}=U("oauth-apps.get",i),x=o(()=>{k()},[k]);return p===I.LOADING?c.createElement(s,{pb:"x20",maxWidth:"x600",w:"full",alignSelf:"center"},c.createElement(_,{mbs:"x8"}),c.createElement(f.Skeleton,{w:"full"}),c.createElement(_,{mbs:"x8"}),c.createElement(f.Skeleton,{w:"full"}),c.createElement(d,{stretch:!0,w:"full",mbs:"x8"},c.createElement(m,{disabled:!0},c.createElement(b,{inheritColor:!0})),c.createElement(m,{primary:!0,disabled:!0},c.createElement(b,{inheritColor:!0}))),c.createElement(d,{stretch:!0,w:"full",mbs:"x8"},c.createElement(m,{primary:!0,danger:!0,disabled:!0},c.createElement(b,{inheritColor:!0})))):!h&&E&&t?c.createElement(M,a({data:E.oauthApp,onChange:x},l)):c.createElement(s,{fontScale:"h1",pb:"x20"},n("error-application-not-found"))}function M(e){let{onChange:t,data:l}=e,s=r(e,["onChange","data"]);const _=C(),b=S(),[f,U]=i({name:l.name,active:l.active,redirectUri:Array.isArray(l.redirectUri)?l.redirectUri.join("\n"):l.redirectUri}),I=v(),D=A("admin-oauth-apps"),M=o(()=>D.push({}),[D]),B=y(),j=u(()=>B("oauth/authorize"),[B]),G=u(()=>B("oauth/token"),[B]),O=g("updateOAuthApp"),W=g("deleteOAuthApp"),z=o(async()=>{try{await O(l._id,f),b({type:"success",message:_("Application_updated")}),t()}catch(e){b({type:"error",message:e})}},[l._id,b,f,t,O,_]),F=o(async()=>{try{await W(l._id),I(()=>c.createElement(L,{children:_("Your_entry_has_been_deleted"),onClose:()=>{I(),M()}}))}catch(e){b({type:"error",message:e})}},[M,l._id,W,b,I,_]),H=()=>I(()=>c.createElement(T,{children:_("Application_delete_warning"),onDelete:F,onCancel:()=>I(void 0)})),N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.currentTarget.value;return l=>U(n(n({},f),{},{[e]:t(l)}))},{active:P,name:V,redirectUri:Y}=f;return c.createElement(R.ScrollableContent,a({w:"full"},s),c.createElement(w,{maxWidth:"x600",alignSelf:"center",w:"full"},c.createElement(p,null,c.createElement(p.Label,{display:"flex",justifyContent:"space-between",w:"full"},_("Active"),c.createElement(x,{checked:P,onChange:N("active",()=>!P)}))),c.createElement(p,null,c.createElement(p.Label,null,_("Application_Name")),c.createElement(p.Row,null,c.createElement(E,{value:V,onChange:N("name")})),c.createElement(p.Hint,null,_("Give_the_application_a_name_This_will_be_seen_by_your_users"))),c.createElement(p,null,c.createElement(p.Label,null,_("Redirect_URI")),c.createElement(p.Row,null,c.createElement(k,{rows:5,value:Y,onChange:N("redirectUri")})),c.createElement(p.Hint,null,_("After_OAuth2_authentication_users_will_be_redirected_to_this_URL"))),c.createElement(p,null,c.createElement(p.Label,null,_("Client_ID")),c.createElement(p.Row,null,c.createElement(E,{value:l.clientId,onChange:N("clientId")}))),c.createElement(p,null,c.createElement(p.Label,null,_("Client_Secret")),c.createElement(p.Row,null,c.createElement(E,{value:l.clientSecret}))),c.createElement(p,null,c.createElement(p.Label,null,_("Authorization_URL")),c.createElement(p.Row,null,c.createElement(E,{value:j}))),c.createElement(p,null,c.createElement(p.Label,null,_("Access_Token_URL")),c.createElement(p.Row,null,c.createElement(E,{value:G}))),c.createElement(p,null,c.createElement(p.Row,null,c.createElement(d,{stretch:!0,w:"full"},c.createElement(m,{onClick:M},_("Cancel")),c.createElement(m,{primary:!0,onClick:z},_("Save"))))),c.createElement(p,null,c.createElement(p.Row,null,c.createElement(d,{stretch:!0,w:"full"},c.createElement(m,{primary:!0,danger:!0,onClick:H},c.createElement(h,{name:"trash",mie:"x4"}),_("Delete")))))))}l.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),l.link("@babel/runtime/helpers/extends",{default(e){a=e}},1),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),l.export({default:()=>D}),l.link("react",{default(e){c=e},useCallback(e){o=e},useState(e){i=e},useMemo(e){u=e}},0),l.link("@rocket.chat/fuselage",{Box(e){s=e},Button(e){m=e},ButtonGroup(e){d=e},TextInput(e){E=e},Field(e){p=e},Icon(e){h=e},Skeleton(e){_=e},Throbber(e){b=e},InputBox(e){f=e},TextAreaInput(e){k=e},ToggleSwitch(e){x=e},FieldGroup(e){w=e}},1),l.link("../../../contexts/TranslationContext",{useTranslation(e){C=e}},2),l.link("../../../contexts/ServerContext",{useMethod(e){g=e},useAbsoluteUrl(e){y=e}},3),l.link("../../../contexts/RouterContext",{useRoute(e){A=e}},4),l.link("../../../contexts/ModalContext",{useSetModal(e){v=e}},5),l.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){S=e}},6),l.link("../../../components/VerticalBar",{default(e){R=e}},7),l.link("../../../components/DeleteSuccessModal",{default(e){L=e}},8),l.link("../../../components/DeleteWarningModal",{default(e){T=e}},9),l.link("../../../hooks/useEndpointData",{useEndpointData(e){U=e}},10),l.link("../../../hooks/useAsyncState",{AsyncStatePhase(e){I=e}},11)}


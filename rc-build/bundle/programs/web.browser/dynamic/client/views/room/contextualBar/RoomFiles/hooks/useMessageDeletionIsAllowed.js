function module(e,t,n){let s,l,r,i,o;n.export({useMessageDeletionIsAllowed:()=>u}),n.link("react",{useCallback(e){s=e}},0),n.link("../../../../../contexts/AuthorizationContext",{usePermission(e){l=e}},1),n.link("../../../../../contexts/SettingsContext",{useSetting(e){r=e}},2),n.link("../lib/getDifference",{getDifference(e){i=e},MINUTES(e){o=e}},3);const u=(e,t)=>{const n=l("force-delete-message",e),u=r("Message_AllowDeleting"),c=l("delete-message",e),a=l("delete-own-message"),g=r("Message_AllowDeleting_BlockDeleteInMinutes"),f=(()=>{if(n)return()=>!0;if(!u)return()=>!1;if(!c||!a)return()=>!1;const e=0!==g?e=>{let{ts:t}=e;if(!t)return!1;const n=i(new Date,new Date(t),o);return n<g}:()=>!0;if(c)return e;const s=e=>{let{uid:n}=e;return n===t};return t=>s(t)&&e(t)})();return s(f,[n,u,c,a,g])}}


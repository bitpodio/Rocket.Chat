function module(e,a,t){let n,l,o,u,r,s,g,i,c,d,m,h,E,k,T,p;t.export({AutoTranslate:()=>C}),t.link("react",{default(e){n=e},useMemo(e){l=e},useEffect(e){o=e},useState(e){u=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){r=e}},1),t.link("@rocket.chat/fuselage",{FieldGroup(e){s=e},Field(e){g=e},ToggleSwitch(e){i=e},Select(e){c=e}},2),t.link("../../../../contexts/UserContext",{useUserSubscription(e){d=e}},3),t.link("../../../../contexts/TranslationContext",{useLanguage(e){m=e},useTranslation(e){h=e}},4),t.link("../../../../hooks/useEndpointAction",{useEndpointActionExperimental(e){E=e}},5),t.link("../../../../hooks/useEndpointData",{useEndpointData(e){k=e}},6),t.link("../../providers/ToolboxProvider",{useTabBarClose(e){T=e}},7),t.link("../../../../components/VerticalBar",{default(e){p=e}},8);const C=e=>{let{language:a,languages:t,handleSwitch:l,translateEnable:o,handleChangeLanguage:u,handleClose:r}=e;const d=h();return(n.createElement(n.Fragment,null,n.createElement(p.Header,null,n.createElement(p.Icon,{name:"language"}),n.createElement(p.Text,null,d("Auto_Translate")),r&&n.createElement(p.Close,{onClick:r})),n.createElement(p.Content,null,n.createElement(s,null,n.createElement(g.Label,{htmlFor:"automatic-translation"},d("Automatic_Translation")),n.createElement(g.Row,null,n.createElement(i,{id:"automatic-translation",onChange:l,defaultChecked:o})),n.createElement(g.Label,{htmlFor:"language"},d("Language")),n.createElement(g.Row,{verticalAlign:"middle"},n.createElement(c,{id:"language",value:a,disabled:!o,onChange:u,options:t}))))))};t.exportDefault(n.memo(e=>{let{rid:a}=e;const t=T(),s=m(),g=d(a),{value:i}=k("autotranslate.getSupportedLanguages",l(()=>({targetLanguage:s}),[s])),[c,h]=u(g.autoTranslateLanguage),p=E("POST","autotranslate.saveSettings"),L=r(e=>{h(e),p({roomId:a,field:"autoTranslateLanguage",value:e})}),f=r(e=>{p({roomId:a,field:"autoTranslate",value:e.target.checked})});return o(()=>{g.autoTranslate&&(g.autoTranslateLanguage||L(s))},[g.autoTranslate,g.autoTranslateLanguage,L,s]),n.createElement(C,{language:c,languages:i?i.languages.map(e=>[e.language,e.name]):[],handleSwitch:f,handleChangeLanguage:L,translateEnable:!!g.autoTranslate,handleClose:t})}))}


function module(e,t,n){let l,r,i,o,a,s,c,u,k,d,_,m,x,p,f,E,C,v,T;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.export({InviteUsers:()=>b}),n.link("react",{default(e){r=e},useState(e){i=e},useEffect(e){o=e}},0),n.link("@rocket.chat/fuselage",{Box(e){a=e},Field(e){s=e},UrlInput(e){c=e},Icon(e){u=e},Button(e){k=e},InputBox(e){d=e},Callout(e){_=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){m=e}},2),n.link("../../../../../hooks/useClipboardWithToast",{default(e){x=e}},3),n.link("../../../../../components/VerticalBar",{default(e){p=e}},4),n.link("../../../../../contexts/TranslationContext",{useTranslation(e){f=e}},5),n.link("../../../../../contexts/ServerContext",{useEndpoint(e){E=e}},6),n.link("../../../../../hooks/useFormatDateAndTime",{useFormatDateAndTime(e){C=e}},7),n.link("../EditInvite",{default(e){v=e}},8),n.link("../../../providers/ToolboxProvider",{useTabBarClose(e){T=e}},9);const b=e=>{let{onClickBack:t,onClickClose:n,onClickEdit:l,captionText:i,linkText:o,error:m}=e;const E=f(),{copy:C}=x(o);return r.createElement(a,{position:"absolute",h:"full",w:"full"},r.createElement(p.Header,null,t&&r.createElement(p.Back,{onClick:t}),r.createElement(p.Text,null,E("Invite_Users")),n&&r.createElement(p.Close,{onClick:n})),r.createElement(p.Content,null,r.createElement(s,null,r.createElement(s.Label,{flexGrow:0},E("Invite_Link")),r.createElement(s.Row,null,void 0===o?r.createElement(d.Skeleton,null):r.createElement(c,{value:o,addon:r.createElement(u,{onClick:C,name:"copy",size:"x16"})}))),r.createElement(a,{pb:"x8",color:"neutral-600",fontScale:"c2"},i),m&&r.createElement(_,{mi:"x24",type:"danger"},m.toString()),r.createElement(a,{pb:"x16"},l&&r.createElement(k,{onClick:l},E("Edit_Invite")))))};n.exportDefault(e=>{let{rid:t,tabBar:n,onClickBack:a}=e;const[s,c]=i(!1),u=C(),k=f(),d=T(),_=m(()=>c(!0)),x=m(()=>c(!1)),p=E("POST","findOrCreateInvite"),[{days:B=1,maxUses:U=0},h]=i({}),w=m(e=>{h(e),c(!1)}),[I,y]=i(),L=m(e=>{if(!e)return"";if(e.expires){const t=new Date(e.expires);if(e.maxUses){const n=e.maxUses-e.uses;return k("Your_invite_link_will_expire_on__date__or_after__usesLeft__uses",{date:u(t),usesLeft:n})}return k("Your_invite_link_will_expire_on__date__",{date:u(t)})}if(e.maxUses){const t=e.maxUses-e.uses;return k("Your_invite_link_will_expire_after__usesLeft__uses",{usesLeft:t})}return k("Your_invite_link_will_never_expire")});return o(()=>{s||(async()=>{try{const e=await p({rid:t,days:B,maxUses:U});y({url:e.url,caption:L(e)})}catch(e){y({error:e})}})()},[p,s,L,t,B,U]),s?r.createElement(v,l({onClickBack:x,linkText:null==I?void 0:I.url,captionText:null==I?void 0:I.caption},{rid:t,tabBar:n,error:null==I?void 0:I.error,setParams:w,days:B,maxUses:U})):r.createElement(b,{error:null==I?void 0:I.error,onClickClose:d,onClickBack:a,onClickEdit:_,linkText:null==I?void 0:I.url,captionText:null==I?void 0:I.caption})})}


function module(e,t,l){let r,s,n,a,o,c,u,i,d,k,C,m;l.export({AddUsers:()=>h}),l.link("react",{default(e){r=e},useState(e){s=e}},0),l.link("@rocket.chat/fuselage",{Field(e){n=e},Button(e){a=e}},1),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){o=e}},2),l.link("../../../../../../ee/client/audit/UserAutoCompleteMultiple",{default(e){c=e}},3),l.link("../../../../../components/VerticalBar",{default(e){u=e}},4),l.link("../../../../../contexts/TranslationContext",{useTranslation(e){i=e}},5),l.link("../../../../../hooks/useForm",{useForm(e){d=e}},6),l.link("../../../../../contexts/ServerContext",{useMethod(e){k=e}},7),l.link("../../../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){C=e}},8),l.link("../../../providers/ToolboxProvider",{useTabBarClose(e){m=e}},9);const h=e=>{let{onClickClose:t,onClickBack:l,onClickSave:s,value:o,onChange:d,errors:k}=e;const C=i();return(r.createElement(r.Fragment,null,r.createElement(u.Header,null,l&&r.createElement(u.Back,{onClick:l}),r.createElement(u.Text,null,C("Add_users")),t&&r.createElement(u.Close,{onClick:t})),r.createElement(u.ScrollableContent,null,r.createElement(n,null,r.createElement(n.Label,{flexGrow:0},C("Choose_users")),r.createElement(c,{errors:k.users,value:o,onChange:d,placeholder:C("Choose_users")}),k.users&&r.createElement(n.Error,null,k.users))),r.createElement(u.Footer,null,r.createElement(a,{primary:!0,disabled:!o||0===o.length,onClick:s},C("Add_users")))))};l.exportDefault(e=>{let{rid:t,onClickBack:l}=e;const n=i(),a=C(),[c,u]=s({}),E=m(),f=k("addUsersToRoom"),{values:g,handlers:p}=d({users:[]}),{users:x}=g,{handleUsers:v}=p,_=o((e,t)=>{if(!t){if(x.includes(e))return;return v([...x,e])}v(x.filter(t=>t!==e))}),T=o(async()=>{if(x.length<1)return u({users:n("Select_at_least_one_user")});try{await f({rid:t,users:x}),a({type:"success",message:n("Users_added")}),l()}catch(e){a({type:"error",message:e})}u({})});return r.createElement(h,{onClickClose:E,onClickBack:l,onClickSave:T,value:x,onChange:_,errors:c})})}


function module(e,t,i){let n;i.export({JitsiMeetExternalAPI:()=>h}),i.link("postis",{default(e){n=e}},0);const o=200,s=300;let r=0;const a={displayName:"display-name",toggleAudio:"toggle-audio",toggleVideo:"toggle-video",toggleFilmStrip:"toggle-film-strip",toggleChat:"toggle-chat",toggleContactList:"toggle-contact-list",toggleShareScreen:"toggle-share-screen"},c={incomingMessage:"incoming-message",outgoingMessage:"outgoing-message",displayNameChange:"display-name-change",participantJoined:"participant-joined",participantLeft:"participant-left",videoConferenceJoined:"video-conference-joined",videoConferenceLeft:"video-conference-left"};function l(e,t){e.send(t)}function d(e,t,i){t in c?l(e,{method:"jitsiSystemMessage",params:{type:"eventStatus",name:c[t],value:i}}):console.error("Not supported event name.")}function h(e,t,i,a,c,l,d,h,m){if((!i||i<o)&&(i=o),(!a||a<s)&&(a=s),this.parentNode=null,c)this.parentNode=c;else{const e=document.scripts[document.scripts.length-1];this.parentNode=e.parentNode}let p;if(this.iframeHolder=this.parentNode.appendChild(document.createElement("div")),this.iframeHolder.id="jitsiConference".concat(r),i&&(this.iframeHolder.style.width="".concat(i,"px")),a&&(this.iframeHolder.style.height="".concat(a,"px")),this.frameName="jitsiConferenceFrame".concat(r),this.url="".concat(h?"http":"https","://").concat(e,"/"),t&&(this.url+=t),m&&(this.url+="?jwt=".concat(m)),this.url+="#jitsi_meet_external_api_id=".concat(r),l)for(p in l)l.hasOwnProperty(p)&&"string"==typeof p&&(this.url+="&config.".concat(p,"=").concat(l[p]));if(d)for(p in d)d.hasOwnProperty(p)&&"string"==typeof p&&(this.url+="&interfaceConfig.".concat(p,"=").concat(d[p]));this.frame=document.createElement("iframe"),this.frame.src=this.url,this.frame.name=this.frameName,this.frame.id=this.frameName,this.frame.width="100%",this.frame.height="100%",this.frame.setAttribute("allowFullScreen","true"),this.frame.setAttribute("allow","microphone; camera"),this.frame=this.iframeHolder.appendChild(this.frame),this.postis=n({window:this.frame.contentWindow,scope:"jitsi_meet_external_api_".concat(r)}),this.eventHandlers={},r++}h.prototype.executeCommand=function(e,t){if(!(e in a))return void console.error("Not supported command name.");let i=t;i||(i=[]),l(this.postis,{method:a[e],params:i})},h.prototype.executeCommands=function(e){Object.entries(e).forEach(e=>{let[t,i]=e;return this.executeCommand(t,i)})},h.prototype.addEventListeners=function(e){Object.entries(e).forEach(e=>{let[t,i]=e;return this.addEventListener(t,i)})},h.prototype.addEventListener=function(e,t){e in c?(e in this.eventHandlers||this.postis.listen(c[e],function(t){e in this.eventHandlers&&"function"==typeof this.eventHandlers[e]&&this.eventHandlers[e].call(null,t)}.bind(this)),this.eventHandlers[e]=t,d(this.postis,e,!0)):console.error("Not supported event name.")},h.prototype.removeEventListener=function(e){e in this.eventHandlers?(delete this.eventHandlers[e],d(this.postis,e,!1)):console.error("The event ".concat(e," is not registered."))},h.prototype.removeEventListeners=function(e){for(let t=0;t<e.length;t++)this.removeEventListener(e[t])},h.prototype.dispose=function(){this.postis.destroy();const e=document.getElementById(this.frameName);e&&(e.src="about:blank");const t=this;window.setTimeout((function(){t.iframeHolder.removeChild(t.frame),t.iframeHolder.parentNode.removeChild(t.iframeHolder)}),10)}}


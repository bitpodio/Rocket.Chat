function module(e,t,s){let o,r,a,n,l,c,u,i;s.link("@babel/runtime/helpers/objectSpread2",{default(e){o=e}},0),s.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},1),s.export({useDataWithLoadMore:()=>h}),s.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){a=e}},0),s.link("react",{useCallback(e){n=e},useEffect(e){l=e}},1),s.link("../../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){c=e}},2),s.link("../../../../hooks/useAsyncState",{useAsyncState(e){u=e},AsyncStatePhase(e){i=e}},3);const h=(e,t,s)=>{const h=u(s),{resolve:p,reject:k,reset:d,update:f}=h,b=r(h,["resolve","reject","reset","update"]),g=c(),m=n(()=>{d(),e(t).then(p).catch(e=>{console.error(e),g({type:"error",message:e}),k(e)})},[d,e,t,p,g,k]),y=a((function(s){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>t;if(![i.LOADING,i.UPDATING].includes(b.phase))return f(),e("function"==typeof s?s(t):s).then(e=>p(t=>o(t,e))).catch(e=>{console.error(e),g({type:"error",message:e}),k(e)})}));return l(()=>{m()},[m]),o(o({},b),{},{more:y,reload:m})}}


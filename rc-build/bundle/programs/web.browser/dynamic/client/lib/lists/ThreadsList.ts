function module(t,i,s){let e,n;s.export({ThreadsList:()=>u}),s.link("./MessageList",{MessageList(t){e=t}},0),s.link("../../../lib/escapeRegExp",{escapeRegExp(t){n=t}},1);const o=(t,i)=>t.rid===i&&"number"==typeof t.tcount,r=(t,i)=>{var s,e;return null!==(s=null===(e=t.replies)||void 0===e?void 0:e.includes(i))&&void 0!==s&&s},p=(t,i)=>i.includes(t._id),l=(t,i)=>i.test(t.msg);class u extends e{constructor(t){super(),this._options=t}get options(){return this._options}updateFilters(t){this._options=t,this.clear()}filter(t){const{rid:i}=this._options;if(!o(t,i))return!1;if("following"===this._options.type){const{uid:i}=this._options;if(!r(t,i))return!1}if("unread"===this._options.type){const{tunread:i}=this._options;if(!p(t,i))return!1}if(this._options.text){const i=new RegExp(this._options.text.split(/\s/g).map(t=>n(t)).join("|"));if(!l(t,i))return!1}return!0}compare(t,i){var s,e;return(null!==(s=i.tlm)&&void 0!==s?s:i.ts).getTime()-(null!==(e=t.tlm)&&void 0!==e?e:t.ts).getTime()}}}


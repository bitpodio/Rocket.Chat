function module(e,t,n){let a,l,i,o,r,s,c,u,m,d,g,h,p,f,x,y;function k(e){let{displacement:t,onPreviousDateClick:n,onNextDateClick:r}=e;const s=f(),c=m().includes("lg"),p=h(()=>d().set({hour:0,minute:0,second:0,millisecond:0}).subtract(1).subtract(t,"days"),[t]),y=h(()=>({start:p.toISOString()}),[p]),{value:k}=x("engagement-dashboard/users/chat-busier/hourly-data",y),E=h(()=>{if(!k)return[];const e=2,t=Array.from({length:12},(e,t)=>({hour:String(2*t),users:0}));for(const{hour:n,users:a}of k.hours){const e=Math.floor(n/2);t[e]=t[e]||{hour:String(2*e),users:0},t[e].users+=a}return t},[k]);return g.createElement(g.Fragment,null,g.createElement(l,{display:"flex",alignItems:"center",justifyContent:"center"},g.createElement(i,{ghost:!0,square:!0,small:!0,onClick:n},g.createElement(o,{left:!0,size:"x20",style:{verticalAlign:"middle"}})),g.createElement(l,{mi:"x8",flexBasis:"25%",is:"span",style:{textAlign:"center"}},p.format(t<7?"dddd":"L")),g.createElement(i,{ghost:!0,square:!0,small:!0,disabled:0===t,onClick:r},g.createElement(o,{right:!0,size:"x20",style:{verticalAlign:"middle"}}))),k?g.createElement(l,{display:"flex",height:"196px"},g.createElement(l,{align:"stretch",flexGrow:1,flexShrink:0,position:"relative"},g.createElement(l,{position:"absolute",width:"100%",height:"100%"},g.createElement(a,{data:E,indexBy:"hour",keys:["users"],groupMode:"grouped",padding:.25,margin:{bottom:30,right:5},colors:["#1d74f5"],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:c?0:25,tickValues:"every 2 hours",format:e=>d().set({hour:e,minute:0,second:0}).format("LT")},axisLeft:null,animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:"600",letterSpacing:"0.2px",lineHeight:"12px"}}},tooltip:{container:{backgroundColor:"#1F2329",boxShadow:"0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)",borderRadius:2}}},tooltip:e=>{let{value:t}=e;return(g.createElement(l,{fontScale:"p2",color:"alternative"},s("Value_users",{value:t})))}})))):g.createElement(u,{variant:"rect",height:196}))}function E(e){let{displacement:t,onPreviousDateClick:n,onNextDateClick:c}=e;const m=h(()=>d.utc().subtract(t,"weeks"),[t]),p=h(()=>{const e=m.clone().subtract(6,"days");return"".concat(e.format("L")," - ").concat(m.format("L"))},[m]),f=h(()=>({start:m.toISOString()}),[m]),{value:y}=x("engagement-dashboard/users/chat-busier/weekly-data",f),k=h(()=>y?y.month.map(e=>{let{users:t,day:n,month:a,year:l}=e;return{users:t,day:String(d.utc([l,a-1,n,0,0,0]).valueOf())}}).sort((e,t)=>{let{day:n}=e,{day:a}=t;return n-a}):[],[y]);return g.createElement(g.Fragment,null,g.createElement(r.Container,{alignItems:"center",justifyContent:"center"},g.createElement(l,null,g.createElement(i,{ghost:!0,square:!0,small:!0,onClick:n},g.createElement(o,{left:!0,size:"x20",style:{verticalAlign:"middle"}})),g.createElement(r.Item,{basis:"50%"},g.createElement(s,{inline:"x8"},g.createElement(l,{is:"span",style:{textAlign:"center"}},p))),g.createElement(i,{ghost:!0,square:!0,small:!0,disabled:0===t,onClick:c},g.createElement(o,{right:!0,size:"x20",style:{verticalAlign:"middle"}})))),g.createElement(r.Container,null,y?g.createElement(l,{style:{height:196}},g.createElement(r.Item,{align:"stretch",grow:1,shrink:0},g.createElement(l,{style:{position:"relative"}},g.createElement(l,{style:{position:"absolute",width:"100%",height:"100%"}},g.createElement(a,{data:k,indexBy:"day",keys:["users"],groupMode:"grouped",padding:.25,margin:{bottom:20},colors:["#1d74f5"],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:"every 3 days",format:e=>d(parseInt(e,10)).format("L")},axisLeft:null,animate:!0,motionStiffness:90,motionDamping:15,theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:"600",letterSpacing:"0.2px",lineHeight:"12px"}}}}}))))):g.createElement(u,{variant:"rect",height:196})))}function b(){const e=f(),[t,n]=p("hours"),a=h(()=>[["hours",e("Hours")],["days",e("Days")]],[e]),[l,i]=p(0),o=e=>{n(e),i(0)},r=()=>i(e=>e+1),s=()=>i(e=>e-1),u="hours"===t&&k||"days"===t&&E;return g.createElement(y,{title:e("When_is_the_chat_busier?"),filter:g.createElement(c,{options:a,value:t,onChange:o})},g.createElement(u,{displacement:l,onPreviousDateClick:r,onNextDateClick:s}))}n.export({BusiestChatTimesSection:()=>b}),n.link("@nivo/bar",{ResponsiveBar(e){a=e}},0),n.link("@rocket.chat/fuselage",{Box(e){l=e},Button(e){i=e},Chevron(e){o=e},Flex(e){r=e},Margins(e){s=e},Select(e){c=e},Skeleton(e){u=e}},1),n.link("@rocket.chat/fuselage-hooks",{useBreakpoints(e){m=e}},2),n.link("moment",{default(e){d=e}},3),n.link("react",{default(e){g=e},useMemo(e){h=e},useState(e){p=e}},4),n.link("../../../../../../client/contexts/TranslationContext",{useTranslation(e){f=e}},5),n.link("../../../../../../client/hooks/useEndpointData",{useEndpointData(e){x=e}},6),n.link("../Section",{Section(e){y=e}},7)}


function module(e,t,n){let l,a,o,s,r,c,i,u,m,d,h,k,p,E,C,x,T,b,g,f,y,H;function v(e){let{_id:t,type:n,reload:l}=e;const a=T("livechat:removeBusinessHour"),s=C(),m=b(),d=g(),h=i(async()=>{try{await a(t,n)}catch(e){console.log(e)}l()}),p=i(e=>{e.stopPropagation();const t=async()=>{try{await h(),m({type:"success",message:d("Business_Hour_Removed")})}catch(e){m({type:"error",message:e})}s()};s(u.createElement(k,{onDelete:t,onCancel:()=>s()}))});return u.createElement(o.Cell,{fontScale:"p1",color:"hint",onClick:p,withTruncatedText:!0},u.createElement(c,{small:!0,ghost:!0,title:d("Remove"),onClick:p},u.createElement(r,{name:"trash",size:"x16"})))}n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),n.export({RemoveBusinessHourButton:()=>v,BusinessHoursTable:()=>D}),n.link("@rocket.chat/fuselage",{Table(e){o=e},Callout(e){s=e},Icon(e){r=e},Button(e){c=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){i=e}},1),n.link("react",{default(e){u=e},memo(e){m=e},useMemo(e){d=e},useState(e){h=e}},2),n.link("../../../client/components/DeleteWarningModal",{default(e){k=e}},3),n.link("../../../client/components/GenericTable",{default(e){p=e}},4),n.link("../../../client/components/FilterByText",{default(e){E=e}},5),n.link("../../../client/contexts/ModalContext",{useSetModal(e){C=e}},6),n.link("../../../client/contexts/RouterContext",{useRoute(e){x=e}},7),n.link("../../../client/contexts/ServerContext",{useMethod(e){T=e}},8),n.link("../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch(e){b=e}},9),n.link("../../../client/contexts/TranslationContext",{useTranslation(e){g=e}},10),n.link("../../../client/hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint(e){f=e}},11),n.link("../../../client/hooks/useEndpointData",{useEndpointData(e){y=e}},12),n.link("../../../client/hooks/useAsyncState",{AsyncStatePhase(e){H=e}},13);const w=m((function e(t){const{_id:n,name:l,timezone:a,workHours:s,active:r,type:c,reload:i}=t,m=g(),h=x("omnichannel-businessHours"),k=()=>{h.push({context:"edit",type:c,id:n})},p=e=>{["Enter","Space"].includes(e.nativeEvent.code)&&k()},E=d(()=>s.reduce((e,t)=>(t.open&&e.push(m(t.day)),e),[]),[m,s]),C=e=>{e.stopPropagation()};return u.createElement(o.Row,{key:n,role:"link",action:!0,tabIndex:0,onClick:k,onKeyDown:p},u.createElement(o.Cell,{withTruncatedText:!0},l||m("Default")),u.createElement(o.Cell,{withTruncatedText:!0},m(a.name)),u.createElement(o.Cell,{withTruncatedText:!0},E.join(", ")),u.createElement(o.Cell,{withTruncatedText:!0},m(r?"Yes":"No")),l&&u.createElement(o.Cell,{withTruncatedText:!0,onClick:C},u.createElement(v,{_id:n,reload:i,type:c})))})),P=()=>{const e=g(),[t,n]=h(()=>({current:0,itemsPerPage:25,text:""})),{value:l,phase:a,reload:o}=y("livechat/business-hours.list?count=".concat(t.itemsPerPage,"&offset=").concat(t.current,"&name=").concat(t.text));return a===H.REJECTED?u.createElement(s,null,e("Error"),": error"):u.createElement(D,{businessHours:null==l?void 0:l.businessHours,totalbusinessHours:null==l?void 0:l.total,params:t,onChangeParams:n,reload:o})};function D(e){let{businessHours:t,totalbusinessHours:n,params:o,onChangeParams:s,reload:r}=e;const c=g(),[i,m]=f([600],200);return u.createElement(p,{ref:i,header:u.createElement(u.Fragment,null,u.createElement(p.HeaderCell,null,c("Name")),u.createElement(p.HeaderCell,null,c("Timezone")),u.createElement(p.HeaderCell,null,c("Open_Days")),u.createElement(p.HeaderCell,{width:"x100"},c("Enabled")),u.createElement(p.HeaderCell,{width:"x100"},c("Remove"))),results:t,total:n,params:o,setParams:s,renderFilter:e=>{let{onChange:t}=e,n=a(e,["onChange"]);return(u.createElement(E,l({onChange:t},n)))}},e=>u.createElement(w,l({key:e._id,medium:m,reload:r},e)))}n.exportDefault(P)}


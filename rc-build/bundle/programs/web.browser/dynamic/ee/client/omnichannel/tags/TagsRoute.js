function module(e,t,n){let a,l,o,c,i,r,s,u,d,m,k,g,h,p,x,E,C,T,f,v,y,w,b,P,D;function M(e){let{_id:t,reload:n}=e;const a=h("livechat:removeTag"),l=C("omnichannel-tags"),i=b(),r=P(),s=g(),k=o(async()=>{try{await a(t)}catch(e){console.log(e)}l.push({}),n()}),p=o(e=>{e.stopPropagation();const t=async()=>{try{await k(),r({type:"success",message:s("Tag_removed")})}catch(e){r({type:"error",message:e})}i()};i(c.createElement(w,{onDelete:t,onCancel:()=>i()}))});return c.createElement(u.Cell,{fontScale:"p1",color:"hint",withTruncatedText:!0},c.createElement(m,{small:!0,ghost:!0,title:s("Remove"),onClick:p},c.createElement(d,{name:"trash",size:"x16"})))}n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),n.export({RemoveTagButton:()=>M}),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){l=e},useMutableCallback(e){o=e}},0),n.link("react",{default(e){c=e},useMemo(e){i=e},useCallback(e){r=e},useState(e){s=e}},1),n.link("@rocket.chat/fuselage",{Table(e){u=e},Icon(e){d=e},Button(e){m=e}},2),n.link("../../../../client/components/GenericTable",{default(e){k=e}},3),n.link("../../../../client/contexts/TranslationContext",{useTranslation(e){g=e}},4),n.link("../../../../client/contexts/ServerContext",{useMethod(e){h=e}},5),n.link("../../../../client/contexts/AuthorizationContext",{usePermission(e){p=e}},6),n.link("../../../../client/components/NotAuthorizedPage",{default(e){x=e}},7),n.link("../../../../client/contexts/RouterContext",{useRouteParameter(e){E=e},useRoute(e){C=e}},8),n.link("../../../../client/components/VerticalBar",{default(e){T=e}},9),n.link("./TagsPage",{default(e){f=e}},10),n.link("./EditTag",{TagEditWithData(e){v=e},TagNew(e){y=e}},11),n.link("../../../../client/components/DeleteWarningModal",{default(e){w=e}},12),n.link("../../../../client/contexts/ModalContext",{useSetModal(e){b=e}},13),n.link("../../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch(e){P=e}},14),n.link("../../../../client/hooks/useEndpointData",{useEndpointData(e){D=e}},15);const R=e=>"asc"===e?1:-1,S=(e,t)=>{let{text:n,itemsPerPage:l,current:o}=e,[c,r]=t;return i(()=>a(a({fields:JSON.stringify({name:1}),text:n,sort:JSON.stringify({[c]:R(r),usernames:"name"===c?R(r):void 0})},l&&{count:l}),o&&{offset:o}),[n,l,o,c,r])};function N(){const e=g(),t=p("manage-livechat-tags"),[n,a]=s({text:"",current:0,itemsPerPage:25}),[d,m]=s(["name","asc"]),h=l(n,500),w=l(d,500),b=S(h,w),P=C("omnichannel-tags"),R=E("context"),N=E("id"),_=o(e=>{const[t,n]=d;m(t!==e?[e,"asc"]:[e,"asc"===n?"desc":"asc"])}),H=o(e=>()=>P.push({context:"edit",id:e})),{value:B={},reload:z}=D("livechat/tags.list",b),I=i(()=>[c.createElement(k.HeaderCell,{key:"name",direction:d[1],active:"name"===d[0],onClick:_,sort:"name"},e("Name")),c.createElement(k.HeaderCell,{key:"description",direction:d[1],active:"description"===d[0],onClick:_,sort:"description"},e("Description")),c.createElement(k.HeaderCell,{key:"remove",w:"x60"},e("Remove"))].filter(Boolean),[d,_,e]),A=r(e=>{let{_id:t,name:n,description:a}=e;return(c.createElement(u.Row,{key:t,tabIndex:0,role:"link",onClick:H(t),action:!0,"qa-user-id":t},c.createElement(u.Cell,{withTruncatedText:!0},n),c.createElement(u.Cell,{withTruncatedText:!0},a),c.createElement(M,{_id:t,reload:z})))},[z,H]),J=r(()=>{if(!R)return"";const t=()=>{P.push({})};return(c.createElement(T,null,c.createElement(T.Header,null,"edit"===R&&e("Edit_Tag"),"new"===R&&e("New_Tag"),c.createElement(T.Close,{onClick:t})),"edit"===R&&c.createElement(v,{tagId:N,reload:z}),"new"===R&&c.createElement(y,{reload:z})))},[e,R,N,P,z]);return t?c.createElement(f,{setParams:a,params:n,onHeaderClick:_,data:B,useQuery:S,reload:z,header:I,renderRow:A,title:"Tags"},c.createElement(J,null)):c.createElement(x,null)}n.exportDefault(N)}


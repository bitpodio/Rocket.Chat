function module(e,t,n){let l,i,a,r,o,s,c,u,d,m,p,h,E,k,f,_,x,y,w,b,g;function v(e){let{priorityId:t,reload:n}=e;const l=r(()=>({priorityId:t}),[t]),{value:i,phase:o,error:s}=w("livechat/priorities.getOne",l),c=f();return o===b.LOADING?a.createElement(g,null):s||!i?a.createElement(p,{m:"x16",type:"danger"},c("Not_Available")):a.createElement(I,{priorityId:t,data:i,reload:n})}function C(e){let{reload:t}=e;return(a.createElement(I,{isNew:!0,reload:t}))}function I(e){let{data:t,isNew:n,priorityId:p,reload:w}=e,b=i(e,["data","isNew","priorityId","reload"]);const g=f(),v=y("omnichannel-priorities"),C=t||{},{values:I,handlers:T,hasUnsavedChanges:M}=x({name:C.name,description:C.description,dueTimeInMinutes:C.dueTimeInMinutes}),{handleName:D,handleDescription:N,handleDueTimeInMinutes:S}=T,{name:R,description:G,dueTimeInMinutes:P}=I,A=r(()=>R&&0!==R.length?void 0:g("The_field_is_required","name"),[R,g]),F=r(()=>!P||P<=0?g("The_field_is_required","Estimated_due_time_in_minutes"):void 0,[P,g]),L=E("livechat:savePriority"),q=k(),B=h(()=>{w()}),j=r(()=>!A&&!F,[A,F]),O=h(async()=>{const e={name:R,description:G,dueTimeInMinutes:"".concat(P)};if(!j)return q({type:"error",message:g("The_field_is_required")});try{await L(p,e),q({type:"success",message:g("Saved")}),w(),v.push({})}catch(t){q({type:"error",message:t})}});return a.createElement(_.ScrollableContent,l({is:"form"},b),a.createElement(o,null,a.createElement(o.Label,null,g("Name"),"*"),a.createElement(o.Row,null,a.createElement(s,{placeholder:g("Name"),flexGrow:1,value:R,onChange:D,error:M&&A}))),a.createElement(o,null,a.createElement(o.Label,null,g("Description")),a.createElement(o.Row,null,a.createElement(s,{placeholder:g("Description"),flexGrow:1,value:G,onChange:N}))),a.createElement(o,null,a.createElement(o.Label,null,g("Estimated_due_time_in_minutes"),"*"),a.createElement(o.Row,null,a.createElement(m,{placeholder:g("Estimated_due_time_in_minutes"),value:P,onChange:S,flexGrow:1,error:M&&F}))),a.createElement(o.Row,null,a.createElement(d,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},a.createElement(u,{inlineEnd:"x4"},!n&&a.createElement(c,{flexGrow:1,type:"reset",disabled:!M,onClick:B},g("Reset")),a.createElement(c,{primary:!0,mie:"none",flexGrow:1,disabled:!M||!j,onClick:O},g("Save"))))))}n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){i=e}},1),n.export({PriorityEditWithData:()=>v,PriorityNew:()=>C,PriorityEdit:()=>I}),n.link("react",{default(e){a=e},useMemo(e){r=e}},0),n.link("@rocket.chat/fuselage",{Field(e){o=e},TextInput(e){s=e},Button(e){c=e},Margins(e){u=e},Box(e){d=e},NumberInput(e){m=e},Callout(e){p=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){h=e}},2),n.link("../../../../client/contexts/ServerContext",{useMethod(e){E=e}},3),n.link("../../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch(e){k=e}},4),n.link("../../../../client/contexts/TranslationContext",{useTranslation(e){f=e}},5),n.link("../../../../client/components/VerticalBar",{default(e){_=e}},6),n.link("../../../../client/hooks/useForm",{useForm(e){x=e}},7),n.link("../../../../client/contexts/RouterContext",{useRoute(e){y=e}},8),n.link("../../../../client/hooks/useEndpointData",{useEndpointData(e){w=e}},9),n.link("../../../../client/hooks/useAsyncState",{AsyncStatePhase(e){b=e}},10),n.link("../../../../client/components/Skeleton",{FormSkeleton(e){g=e}},11)}

